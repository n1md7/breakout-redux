var Er=Object.defineProperty;var Cr=(e,t,s)=>t in e?Er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var g=(e,t,s)=>(Cr(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();var kt=(e=>(e.development="development",e.production="production",e.githubPages="github",e.crazyGames="crazy",e.itchIo="itch",e.unitTest="test",e.e2eTest="e2e",e))(kt||{}),B=(e=>(e[e.Classic=0]="Classic",e[e.Dynamic=1]="Dynamic",e[e.Modern=2]="Modern",e[e.Bonus=3]="Bonus",e[e.Empty=4]="Empty",e))(B||{});class Tr{constructor(t){this.mode=t}isDevelopment(){return this.mode===kt.development}isCrazyGames(){return this.mode===kt.crazyGames}isItchIo(){return this.mode===kt.itchIo}isGithubPages(){return this.mode===kt.githubPages}isUnitTest(){return this.mode===kt.unitTest}isE2ETest(){return this.mode===kt.e2eTest}}const ns=new Tr("github"),kr=1,Ar=.5;let be=1,He=0,sn=27,te=[],Ot=0,Pt=0,Ft=0,fe=0,ks,ge;const M=(...e)=>console.assert(...e),Ee=(e,t=f(),s="#fff",i=0,n=0,r=!1)=>{M(typeof s=="string"),te.push({pos:e,size:f(t),color:s,time:new rs(i),angle:n,fill:r})},_i=(e,t=0,s="#fff",i=0,n=!1)=>{M(typeof s=="string"),te.push({pos:e,size:t,color:s,time:new rs(i),angle:0,fill:n})},Dr=(e,t,s,i)=>Ee(e,0,t,s,i),$r=(e,t,s,i=.1,n)=>{const r=f((t.x-e.x)/2,(t.y-e.y)/2),a=f(i,r.length()*2);Ee(e.add(r),a,s,n,r.angle(),1)},Ei=(e,t,s,i,n)=>{const r=f(ct(e.x-t.x/2,s.x-i.x/2),ct(e.y-t.y/2,s.y-i.y/2)),a=f(ht(e.x+t.x/2,s.x+i.x/2),ht(e.y+t.y/2,s.y+i.y/2));Ee(r.lerp(a,.5),a.subtract(r),n)},Or=(e,t,s=1,i="#fff",n=0,r=0,a="monospace")=>{M(typeof i=="string"),te.push({text:e,pos:t,size:s,color:i,time:new rs(n),angle:r,font:a})},Pr=(e,t=ei+".png")=>{ge.download="screenshot.png",ge.href=e.toDataURL("image/png").replace("image/png","image/octet-stream"),ge.click()},Fr=()=>{document.body.appendChild(ge=document.createElement("a")),ge.style.display="none"},Ci=()=>{pt(sn)&&(Ot=!Ot),Ot&&(pt(48)&&(be=!be),pt(49)&&(Pt=!Pt,Ft=0),pt(50)&&(Ft=!Ft,Pt=0),pt(51)&&(fe=!fe),pt(52)&&(He=!He),pt(53)&&(ks=1))},Mr=()=>{if(Ne(Y),ks&&(Ne(Y,1),Y.drawImage(it,0,0),it.width|=0,Pr(S),ks=0),fe&&Hr&&navigator.getGamepads){const e=navigator.getGamepads();for(let t=e.length;t--;){const s=e[t];if(s){const r=W,a=Ds[t];for(let o=a.length;o--;){const l=r.add(f(o*1*2,t*1*3)),u=l.add(a[o].scale(1));_i(l,1,"#fff7",0,1),$r(l,u,"#f00"),Dr(u,"#f00")}for(let o=s.buttons.length;o--;){const l=r.add(f(o*.2*2,t*1*3-1-.2)),u=s.buttons[o].pressed;_i(l,.2,u?"#f00":"#fff7",0,1),Or(o,l,.2)}}}}if(Ot){const e=Y;Y=m;let t=1/0,s;for(const i of lt){if(i.canvas||i.destroyed||!i.size.x||!i.size.y)continue;const n=wt.distanceSquared(i.pos);n<t&&(t=n,s=i);const r=f(ht(i.size.x,.2),ht(i.size.y,.2)),a=new b(!!i.collideTiles,!!i.collideSolidObjects,!!i.isSolid,i.parent?.2:.5),o=i.parent?new b(1,1,1,.5):new b(0,0,0,.8);Dt(i.pos,r,a,i.angle,0),Dt(i.pos,r.scale(.8),o,i.angle,0),i.parent&&Oi(i.pos,i.parent.pos,.1,new b(0,0,1,.5),0)}if(s){const i=ta(s.pos,wt);i&&Dt(i.floor().add(f(.5)),f(1),new b(0,1,1,.3)),Dt(wt.floor().add(f(.5)),f(1),new b(0,0,1,.5),0,0),Oi(wt,s.pos,.1,i?new b(1,0,0,.5):new b(0,1,0,.5),0);const n="mouse pos = "+wt+`
mouse collision = `+dn(wt)+`

--- object info ---
`+s.toString();Kr(n,Zs,24,new b,.05,0,0,"monospace")}Ne(Y=e)}{m.lineWidth=2;const e=Ar*Q;te.forEach(t=>{m.save();const s=os(t.pos);if(m.translate(s.x|0,s.y|0),m.rotate(t.angle),m.fillStyle=m.strokeStyle=t.color,t.text!=null)m.font=t.size*Q+"px "+t.font,m.textAlign="center",m.textBaseline="middle",m.fillText(t.text,0,0);else if(t.size==0||t.size.x===0&&t.size.y===0)m.fillRect(-e/2,-1,e,3),m.fillRect(-1,-e/2,3,e);else if(t.size.x!=null){const i=t.size.x*Q|0,n=t.size.y*Q|0;t.fill&&m.fillRect(-i/2|0,-n/2|0,i,n),m.strokeRect(-i/2|0,-n/2|0,i,n)}else m.beginPath(),m.arc(0,0,t.size*Q,0,9),t.fill&&m.fill(),m.stroke();m.restore()}),te=te.filter(t=>t.time<0)}{m.save(),m.fillStyle="#fff",m.textAlign="left",m.textBaseline="top",m.font="28px monospace",m.shadowColor="#000",m.shadowBlur=9;let e=9,t=-20,s=30;if(Ot){m.fillText(ei,e,t+=s),m.fillText("Objects: "+lt.length,e,t+=s),m.fillText("Time: "+Ir(tt),e,t+=s),m.fillText("---------",e,t+=s),m.fillStyle="#f00",m.fillText("ESC: Debug Overlay",e,t+=s),m.fillStyle=Pt?"#f00":"#fff",m.fillText("1: Debug Physics",e,t+=s),m.fillStyle=Ft?"#f00":"#fff",m.fillText("2: Debug Particles",e,t+=s),m.fillStyle=fe?"#f00":"#fff",m.fillText("3: Debug Gamepads",e,t+=s),m.fillStyle=He?"#f00":"#fff",m.fillText("4: God Mode",e,t+=s),m.fillStyle="#fff",m.fillText("5: Save Screenshot",e,t+=s);let i="";for(const r in H[0])r&&xe(r,0)&&(i+=r+" ");i&&m.fillText("Keys Down: "+i,e,t+=s);let n="";if(H[1])for(const r in H[1])r&&xe(r,1)&&(n+=r+" ");n&&m.fillText("Gamepad: "+n,e,t+=s)}else m.fillText(Pt?"Debug Physics":"",e,t+=s),m.fillText(Ft?"Debug Particles":"",e,t+=s),m.fillText(He?"God Mode":"",e,t+=s),m.fillText(fe?"Debug Gamepads":"",e,t+=s);m.restore()}},Ge=Math.PI,nt=e=>e<0?-e:e,ct=(e,t)=>e<t?e:t,ht=(e,t)=>e>t?e:t,se=e=>e<0?-1:1,N=(e,t=0,s=1)=>e<t?t:e>s?s:e,ie=(e,t=0,s=1)=>s-t?N((e-t)/(s-t)):0,le=(e,t=0,s=1)=>t+N(e)*(s-t),Ti=(e,t,s,i)=>nt(e.x-s.x)*2<t.x+i.x&&nt(e.y-s.y)*2<t.y+i.y,Ir=e=>(e/60|0)+":"+(e%60<10?"0":"")+(e%60|0),I=(e=1,t=0)=>t+(e-t)*Math.random(),ae=(e=1,t=0)=>I(e,t)|0,Lr=()=>ae(2)*2-1,zr=(e=1,t=0)=>e>0?nn(e*I(t/e,1)**.5):new D,nn=(e=1)=>new D().setAngle(I(2*Ge),e),ki=(e=new b,t=new b(0,0,0,1),s)=>s?e.lerp(t,I()):new b(I(e.r,t.r),I(e.g,t.g),I(e.b,t.b),I(e.a,t.a)),f=(e=0,t)=>e.x==null?new D(e,t??e):new D(e.x,e.y),at=e=>!isNaN(e.x)&&!isNaN(e.y);class D{constructor(t=0,s=0){this.x=t,this.y=s}copy(){return new D(this.x,this.y)}add(t){return M(at(t)),new D(this.x+t.x,this.y+t.y)}subtract(t){return M(at(t)),new D(this.x-t.x,this.y-t.y)}multiply(t){return M(at(t)),new D(this.x*t.x,this.y*t.y)}divide(t){return M(at(t)),new D(this.x/t.x,this.y/t.y)}scale(t){return M(!at(t)),new D(this.x*t,this.y*t)}length(){return this.lengthSquared()**.5}lengthSquared(){return this.x**2+this.y**2}distance(t){return this.distanceSquared(t)**.5}distanceSquared(t){return(this.x-t.x)**2+(this.y-t.y)**2}normalize(t=1){const s=this.length();return s?this.scale(t/s):new D(0,t)}clampLength(t=1){const s=this.length();return s>t?this.scale(t/s):this}dot(t){return M(at(t)),this.x*t.x+this.y*t.y}cross(t){return M(at(t)),this.x*t.y-this.y*t.x}angle(){return Math.atan2(this.x,this.y)}setAngle(t=0,s=1){return this.x=s*Math.sin(t),this.y=s*Math.cos(t),this}rotate(t){const s=Math.cos(t),i=Math.sin(t);return new D(this.x*s-this.y*i,this.x*i+this.y*s)}direction(){return nt(this.x)>nt(this.y)?this.x<0?3:1:this.y<0?2:0}invert(){return new D(this.y,-this.x)}floor(){return new D(Math.floor(this.x),Math.floor(this.y))}area(){return nt(this.x*this.y)}lerp(t,s){return M(at(t)),this.add(t.subtract(this).scale(N(s)))}arrayCheck(t){return this.x>=0&&this.y>=0&&this.x<t.x&&this.y<t.y}toString(t=3){return`(${(this.x<0?"":" ")+this.x.toFixed(t)},${(this.y<0?"":" ")+this.y.toFixed(t)} )`}}class b{constructor(t=1,s=1,i=1,n=1){this.r=t,this.g=s,this.b=i,this.a=n}copy(){return new b(this.r,this.g,this.b,this.a)}add(t){return new b(this.r+t.r,this.g+t.g,this.b+t.b,this.a+t.a)}subtract(t){return new b(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)}multiply(t){return new b(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)}divide(t){return new b(this.r/t.r,this.g/t.g,this.b/t.b,this.a/t.a)}scale(t,s=t){return new b(this.r*t,this.g*t,this.b*t,this.a*s)}clamp(){return new b(N(this.r),N(this.g),N(this.b),N(this.a))}lerp(t,s){return this.add(t.subtract(this).scale(N(s)))}setHSLA(t=0,s=0,i=1,n=1){const r=i<.5?i*(1+s):i+s-i*s,a=2*i-r,o=(l,u,c)=>(c=(c%1+1)%1)<1/6?l+(u-l)*6*c:c<1/2?u:c<2/3?l+(u-l)*(2/3-c)*6:l;return this.r=o(a,r,t+1/3),this.g=o(a,r,t),this.b=o(a,r,t-1/3),this.a=n,this}getHSLA(){const t=N(this.r),s=N(this.g),i=N(this.b),n=N(this.a),r=Math.max(t,s,i),a=Math.min(t,s,i),o=(r+a)/2;let l=0,u=0;if(r!=a){let c=r-a;u=o>.5?c/(2-r-a):c/(r+a),t==r?l=(s-i)/c+(s<i?6:0):s==r?l=(i-t)/c+2:i==r&&(l=(t-s)/c+4)}return[l/6,u,o,n]}mutate(t=.05,s=0){return new b(this.r+I(t,-t),this.g+I(t,-t),this.b+I(t,-t),this.a+I(s,-s)).clamp()}toString(t=1){const s=i=>((i=i*255|0)<16?"0":"")+i.toString(16);return"#"+s(this.r)+s(this.g)+s(this.b)+(t?s(this.a):"")}setHex(t){const s=i=>N(parseInt(t.slice(i,i+2),16)/255);return this.r=s(1),this.g=s(3),this.b=s(5),this.a=t.length>7?s(7):1,this}rgbaInt(){const t=a=>N(a)*255|0,s=t(this.r),i=t(this.g)<<8,n=t(this.b)<<16,r=t(this.a)<<24;return s+i+n+r}}class rs{constructor(t){this.time=t==null?void 0:tt+t,this.setTime=t}set(t=0){this.time=tt+t,this.setTime=t}unset(){this.time=void 0}isSet(){return this.time!=null}active(){return tt<=this.time}elapsed(){return tt>this.time}get(){return this.isSet()?tt-this.time:0}getPercent(){return this.isSet()?ie(this.time-tt,this.setTime,0):0}toString(){return this.unset()?"unset":Math.abs(this.get())+" seconds "+(this.get()<0?"before":"after")}valueOf(){return this.get()}}let W=f(),Q=32,Ai=f(1920,1200),Re=f(),rn=1,Rr="arial",an=1,as=f(16),ce=.3,Br=1,Nr=1,jr=1,Ur=0,Vr=.8,Oe=1,Pe=0,Di=1,Hr=1,pe=1,qs=.5,Gr=40,Wr=.7,$i=5,Fe=.5;f(640,80);class Nt{constructor(t=f(),s=f(1),i=-1,n=as,r=0,a,o=0){M(at(t)&&at(s)),this.pos=t.copy(),this.size=s,this.drawSize,this.tileIndex=i,this.tileSize=n,this.angle=r,this.color=a,this.additiveColor,this.mass=Br,this.damping=Nr,this.angleDamping=jr,this.elasticity=Ur,this.friction=Vr,this.gravityScale=1,this.renderOrder=o,this.velocity=new D,this.angleVelocity=0,this.spawnTime=tt,this.children=[],this.collideTiles=1,lt.push(this)}update(){const t=this.parent;if(t){this.pos=this.localPos.multiply(f(t.getMirrorSign(),1)).rotate(-t.angle).add(t.pos),this.angle=t.getMirrorSign()*this.localAngle+t.angle;return}this.velocity.x=N(this.velocity.x,-Oe,Oe),this.velocity.y=N(this.velocity.y,-Oe,Oe);const s=this.pos.copy();if(this.velocity.y+=Pe*this.gravityScale,this.pos.x+=this.velocity.x*=this.damping,this.pos.y+=this.velocity.y*=this.damping,this.angle+=this.angleVelocity*=this.angleDamping,M(this.angleDamping>=0&&this.angleDamping<=1),M(this.damping>=0&&this.damping<=1),!this.mass)return;const i=this.velocity.y<0;if(this.groundObject){const n=this.groundObject.velocity?this.groundObject.velocity.x:0;this.velocity.x=n+(this.velocity.x-n)*this.friction,this.groundObject=0}if(this.collideSolidObjects)for(const r of Dn){if(!this.isSolid&!r.isSolid||r.destroyed||r.parent||r==this||!Ti(this.pos,this.size,r.pos,r.size)||!this.collideWithObject(r)|!r.collideWithObject(this))continue;if(Ti(s,this.size,r.pos,r.size)){const h=s.subtract(r.pos),d=h.length(),p=.001,y=d<.01?nn(p):h.scale(p/d);this.velocity=this.velocity.add(y),r.mass&&(r.velocity=r.velocity.subtract(y)),Ot&&Pt&&Ei(this.pos,this.size,r.pos,r.size,"#f00");continue}const a=this.size.add(r.size),o=(s.y-r.pos.y)*2>a.y+Pe,l=nt(s.y-r.pos.y)*2<a.y,u=nt(s.x-r.pos.x)*2<a.x,c=ht(this.elasticity,r.elasticity);if(o|u|!l){if(this.pos.y=r.pos.y+(a.y/2+.001)*se(s.y-r.pos.y),r.groundObject&&i||!r.mass)i&&(this.groundObject=r),this.velocity.y*=-c;else if(r.mass){const h=(this.mass*this.velocity.y+r.mass*r.velocity.y)/(this.mass+r.mass),d=this.velocity.y*(this.mass-r.mass)/(this.mass+r.mass)+r.velocity.y*2*r.mass/(this.mass+r.mass),p=r.velocity.y*(r.mass-this.mass)/(this.mass+r.mass)+this.velocity.y*2*this.mass/(this.mass+r.mass);this.velocity.y=le(c,h,d),r.velocity.y=le(c,h,p)}}if(!o&l)if(this.pos.x=r.pos.x+(a.x/2+.001)*se(s.x-r.pos.x),r.mass){const h=(this.mass*this.velocity.x+r.mass*r.velocity.x)/(this.mass+r.mass),d=this.velocity.x*(this.mass-r.mass)/(this.mass+r.mass)+r.velocity.x*2*r.mass/(this.mass+r.mass),p=r.velocity.x*(r.mass-this.mass)/(this.mass+r.mass)+this.velocity.x*2*this.mass/(this.mass+r.mass);this.velocity.x=le(c,h,d),r.velocity.x=le(c,h,p)}else this.velocity.x*=-c;Ot&&Pt&&Ei(this.pos,this.size,r.pos,r.size,"#f0f")}if(this.collideTiles&&Me(this.pos,this.size,this)&&!Me(s,this.size,this)){const n=Me(new D(s.x,this.pos.y),this.size,this),r=Me(new D(this.pos.x,s.y),this.size,this);if(n|!r){this.groundObject=i,this.velocity.y*=-this.elasticity;const a=(s.y-this.size.y/2|0)-(s.y-this.size.y/2);a<0&&a>this.damping*this.velocity.y+Pe*this.gravityScale&&(this.velocity.y=this.damping?(a-Pe*this.gravityScale)/this.damping:0),this.pos.y=s.y}r&&(this.pos.x=s.x,this.velocity.x*=-this.elasticity)}}render(){We(this.pos,this.drawSize||this.size,this.tileIndex,this.tileSize,this.color,this.angle,this.mirror,this.additiveColor)}destroy(){if(!this.destroyed){this.destroyed=1,this.parent&&this.parent.removeChild(this);for(const t of this.children)t.destroy(t.parent=0)}}collideWithTile(t,s){return t>0}collideWithTileRaycast(t,s){return t>0}collideWithObject(t){return 1}getAliveTime(){return tt-this.spawnTime}applyAcceleration(t){this.mass&&(this.velocity=this.velocity.add(t))}applyForce(t){this.applyAcceleration(t.scale(1/this.mass))}getMirrorSign(){return this.mirror?-1:1}addChild(t,s=f(),i=0){M(!t.parent&&!this.children.includes(t)),this.children.push(t),t.parent=this,t.localPos=s.copy(),t.localAngle=i}removeChild(t){M(t.parent==this&&this.children.includes(t)),this.children.splice(this.children.indexOf(t),1),t.parent=0}setCollision(t=1,s=1,i=1){M(t||!s),this.collideSolidObjects=t,this.isSolid=s,this.collideTiles=i}toString(){{let t="type = "+this.constructor.name;return(this.pos.x||this.pos.y)&&(t+=`
pos = `+this.pos),(this.velocity.x||this.velocity.y)&&(t+=`
velocity = `+this.velocity),(this.size.x||this.size.y)&&(t+=`
size = `+this.size),this.angle&&(t+=`
angle = `+this.angle.toFixed(3)),this.color&&(t+=`
color = `+this.color),t}}}let S,Y,it,m,St=f();const ot=new Image;let ue,he,As;const Xr=e=>(M(St.x&&St.y,"mainCanvasSize is invalid"),e.add(f(.5)).subtract(St.scale(.5)).multiply(f(1/Q,-1/Q)).add(W)),os=e=>(M(St.x&&St.y,"mainCanvasSize is invalid"),e.subtract(W).multiply(f(Q,-Q)).add(St.scale(.5)).subtract(f(.5)));function We(e,t=f(1),s=-1,i=as,n=new b,r=0,a,o=new b(0,0,0,0),l=an){if(be&&++As,l)if(s<0||!ot.width)zi(e.x,e.y,t.x,t.y,r,0,0,0,0,0,n.rgbaInt());else{const u=ue.x/i.x|0,c=i.x/ue.x,h=i.y/ue.y,d=s%u*c,p=(s/u|0)*h;zi(e.x,e.y,a?-t.x:t.x,t.y,r,d+he.x,p+he.y,d-he.x+c,p-he.y+h,n.rgbaInt(),o.rgbaInt())}else qr(e,t,r,a,u=>{if(s<0)u.fillStyle=n,u.fillRect(-.5,-.5,1,1);else{const c=ue.x/i.x|0,h=s%c*i.x+ce,d=(s/c|0)*i.y+ce,p=i.x-2*ce,y=i.y-2*ce;u.globalAlpha=n.a,u.drawImage(ot,h,d,p,y,-.5,-.5,1,1)}})}function Dt(e,t,s,i,n){We(e,t,-1,as,s,i,0,0,n)}function Oi(e,t,s=.1,i,n){const r=f((t.x-e.x)/2,(t.y-e.y)/2),a=f(s,r.length()*2);Dt(e.add(r),a,i,r.angle(),n)}function qr(e,t,s,i,n,r=Y){e=os(e),t=t.scale(Q),r.save(),r.translate(e.x+.5|0,e.y+.5|0),r.rotate(s),r.scale(i?-t.x:t.x,t.y),n(r),r.restore()}function Pi(e,t=an){t?pn(e):Y.globalCompositeOperation=e?"lighter":"source-over"}function Kr(e,t,s=1,i=new b,n=0,r=new b(0,0,0),a="center",o=Rr,l=m){l.fillStyle=i,l.lineWidth=n,l.strokeStyle=r,l.textAlign=a,l.font=s+"px "+o,l.textBaseline="middle",l.lineJoin="round",t=t.copy(),(e+"").split(`
`).forEach(u=>{n&&l.strokeText(u,t.x,t.y),l.fillText(u,t.x,t.y),t.y+=s})}let ms;class ys{constructor(t,s=f(8),i=f(0,1),n=0,r=m){ms||((ms=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAYAQAAAAA9+x6JAAAAAnRSTlMAAHaTzTgAAAGiSURBVHjaZZABhxxBEIUf6ECLBdFY+Q0PMNgf0yCgsSAGZcT9sgIPtBWwIA5wgAPEoHUyJeeSlW+gjK+fegWwtROWpVQEyWh2npdpBmTUFVhb29RINgLIukoXr5LIAvYQ5ve+1FqWEMqNKTX3FAJHyQDRZvmKWubAACcv5z5Gtg2oyCWE+Yk/8JZQX1jTTCpKAFGIgza+dJCNBF2UskRlsgwitHbSV0QLgt9sTPtsRlvJjEr8C/FARWA2bJ/TtJ7lko34dNDn6usJUMzuErP89UUBJbWeozrwLLncXczd508deAjLWipLO4Q5XGPcJvPu92cNDaN0P5G1FL0nSOzddZOrJ6rNhbXGmeDvO3TF7DeJWl4bvaYQTNHCTeuqKZmbjHaSOFes+IX/+IhHrnAkXOAsfn24EM68XieIECoccD4KZLk/odiwzeo2rovYdhvb2HYFgyznJyDpYJdYOmfXgVdJTaUi4xA2uWYNYec9BLeqdl9EsoTw582mSFDX2DxVLbNt9U3YYoeatBad1c2Tj8t2akrjaIGJNywKB/7h75/gN3vCMSaadIUTAAAAAElFTkSuQmCC"),this.image=t||ms,this.tileSize=s,this.paddingSize=i,this.startTileIndex=n,this.context=r}drawTextScreen(t,s,i=4,n){const r=this.context;r.save(),r.imageSmoothingEnabled=!rn;const a=this.tileSize,o=a.add(this.paddingSize).scale(i),l=this.image.width/this.tileSize.x|0;(t+"").split(`
`).forEach((u,c)=>{const h=n?u.length*a.x*i/2|0:0;for(let d=u.length;d--;){let p=u[d].charCodeAt();(p<32||p>127)&&(p=127);const y=this.startTileIndex+p-32,w=y%l,E=y/l|0,k=s.add(f(d,c).multiply(o));r.drawImage(this.image,w*a.x,E*a.y,a.x,a.y,k.x-h,k.y,a.x*i,a.y*i)}}),r.restore()}drawText(t,s,i=1,n){this.drawTextScreen(t,os(s).floor(),i*Q|0,n)}}const xe=(e,t=0)=>H[t]&&H[t][e]&1,pt=(e,t=0)=>H[t]&&H[t][e]&2?1:0,Zr=()=>H=[[]],Ks=pt;let wt=f(),Zs=f(),Ys=0;const Gt=(e,t=0)=>xe(e,t+1),Js=(e,t=0)=>pt(e,t+1);let H=[[]];function Fi(){ln||document.hasFocus()||Zr(),wt=Xr(Zs),Jr()}function Mi(){for(const e of H)for(const t in e)e[t]&=1}onkeydown=e=>{e.target==document.body&&(e.repeat||(H[Ys=0][on(e.which)]=3))};onkeyup=e=>{e.target==document.body&&(H[0][on(e.which)]=4)};const on=e=>e==87?38:e==83?40:e==65?37:e==68?39:e;onmousedown=e=>{H[Ys=0][e.button]=3,onmousemove(e),e.button&&e.preventDefault()};onmouseup=e=>H[0][e.button]=H[0][e.button]&2|4;onmousemove=e=>Zs=Yr(e);onwheel=e=>e.ctrlKey||se(e.deltaY);oncontextmenu=e=>!1;const Yr=e=>{if(!S)return f();const t=S.getBoundingClientRect();return f(S.width,S.height).multiply(f(ie(e.x,t.left,t.right),ie(e.y,t.top,t.bottom)))},Ds=[];function Jr(){if(!navigator||!navigator.getGamepads||!document.hasFocus()&&!kr)return;const e=navigator.getGamepads();for(let t=e.length;t--;){const s=e[t],i=H[t+1]||(H[t+1]=[]),n=Ds[t]||(Ds[t]=[]);if(s){const o=l=>l>.3?ie(l,.3,.8):l<-.3?-ie(-l,.3,.8):0;for(let l=0;l<s.axes.length-1;l+=2)n[l>>1]=f(o(s.axes[l]),o(-s.axes[l+1])).clampLength();for(let l=s.buttons.length;l--;){const u=s.buttons[l];i[l]=u.pressed?1+2*!Gt(l,t):4*Gt(l,t),Ys|=!t&&u.pressed}{const l=f(Gt(15,t)-Gt(14,t),Gt(12,t)-Gt(13,t));l.lengthSquared()&&(n[0]=l.clampLength())}}}}const ln=window.ontouchstart!==void 0;if(ln){let e,t=onmousedown,s=onmouseup;onmousedown=onmouseup=()=>0,ontouchstart=i=>(Qr(0),ontouchstart=ontouchmove=ontouchend=n=>{n.button=0;const r=n.touches.length;return r?(n.x=n.touches[0].clientX,n.y=n.touches[0].clientY,e?onmousemove(n):t(n)):e&&s(n),e=r,!0},ontouchstart(i))}new rs;let Wt=class{constructor(t,s=Gr,i=Wr){pe&&(this.range=s,this.taper=i,this.randomness=t[1]||0,t[1]=0,this.cachedSamples=un(...t))}play(t,s=1,i=1,n=1){if(!pe)return;let r;if(t){const o=this.range;if(o){const l=W.distanceSquared(t);if(l>o*o)return;s*=ie(l**.5,o,o*this.taper)}r=os(t).x*2/S.width-1}const a=i+i*this.randomness*n*I(-1,1);return cn([this.cachedSamples],s,a,r)}playNote(t,s,i){if(pe)return this.play(s,i,2**(t/12),0)}},gt;function cn(e,t=1,s=1,i=0,n=0){if(!pe||(gt||(gt=new AudioContext),gt.resume(),gt.state!="running"))return;const r=gt.createBuffer(e.length,e[0].length,X),a=gt.createBufferSource();e.forEach((l,u)=>r.getChannelData(u).set(l)),a.buffer=r,a.playbackRate.value=s,a.loop=n;const o=gt.createGain();return o.gain.value=qs*t,o.connect(gt.destination),a.connect(new StereoPannerNode(gt,{pan:N(i,-1,1)})).connect(o),a.start(),a}const Qr=(...e)=>cn([un(...e)]),X=44100;function un(e=1,t=.05,s=220,i=0,n=0,r=.1,a=0,o=1,l=0,u=0,c=0,h=0,d=0,p=0,y=0,w=0,E=0,k=1,C=0,P=0){let A=Ge*2,q=l*=500*A/X/X,et=[],Ct=s*=(1+t*I(-1,1))*A/X,K=0,Tt=0,v=0,Z=1,Vt=0,$e=0,xt=0,ps,Ht;for(i=i*X+9,C*=X,n*=X,r*=X,E*=X,u*=500*A/X**3,y*=A/X,c*=A/X,h*=X,d=d*X|0,Ht=i+C+n+r+E|0;v<Ht;et[v++]=xt)++$e%(w*100|0)||(xt=a?a>1?a>2?a>3?Math.sin((K%A)**3):ht(ct(Math.tan(K),1),-1):1-(2*K/A%2+2)%2:1-4*nt(Math.round(K/A)-K/A):Math.sin(K),xt=(d?1-P+P*Math.sin(A*v/d):1)*se(xt)*nt(xt)**o*e*qs*(v<i?v/i:v<i+C?1-(v-i)/C*(1-k):v<i+C+n?k:v<Ht-E?(Ht-v-E)/r*k:0),xt=E?xt/2+(E>v?0:(v<Ht-E?1:(Ht-v)/E)*et[v-E|0]/2):xt),ps=(s+=l+=u)*Math.cos(y*Tt++),K+=ps-ps*p*(1-(Math.sin(v)+1)*1e9%2),Z&&++Z>h&&(s+=c,Ct+=c,Z=0),d&&!(++Vt%d)&&(s=Ct,l=q,Z||(Z=1));return et}let hn=[],me=f();const dn=e=>e.arrayCheck(me)?hn[(e.y|0)*me.x+e.x|0]:0;function Me(e,t=f(),s){const i=ht(e.x-t.x/2|0,0),n=ht(e.y-t.y/2|0,0),r=ct(e.x+t.x/2,me.x),a=ct(e.y+t.y/2,me.y);for(let o=n;o<a;++o)for(let l=i;l<r;++l){const u=hn[o*me.x+l];if(u&&(!s||s.collideWithTile(u,new D(l,o))))return 1}}function ta(e,t,s){const i=(t=t.floor()).subtract(e=e.floor()),n=nt(i.x),r=-nt(i.y),a=se(i.x),o=se(i.y);for(let l=e.x,u=e.y,c=n+r;;){const h=dn(f(l,u));if(h&&(s?s.collideWithTileRaycast(h,new D(l,u)):h>0))return new D(l+.5,u+.5);if(l==t.x&u==t.y)break;const d=2*c;d>=r&&(c+=r,l+=a),d<=n&&(c+=n,u+=o)}}class Ii extends Nt{constructor(t,s,i=0,n=0,r=100,a=Ge,o=-1,l=as,u=new b,c=new b,h=new b(1,1,1,0),d=new b(1,1,1,0),p=.5,y=.1,w=1,E=.1,k=.05,C=1,P=1,A=0,q=Ge,et=.1,Ct=.2,K,Tt,v=1,Z=Tt?1e9:0,Vt){super(t,new D,o,l,s,void 0,Z),this.emitSize=i,this.emitTime=n,this.emitRate=r,this.emitConeAngle=a,this.colorStartA=u,this.colorStartB=c,this.colorEndA=h,this.colorEndB=d,this.randomColorLinear=v,this.particleTime=p,this.sizeStart=y,this.sizeEnd=w,this.speed=E,this.angleSpeed=k,this.damping=C,this.angleDamping=P,this.gravityScale=A,this.particleConeAngle=q,this.fadeRate=et,this.randomness=Ct,this.collideTiles=K,this.additive=Tt,this.localSpace=Vt,this.trailScale=0,this.emitTimeBuffer=0}update(){if(this.parent&&super.update(),!this.emitTime|this.getAliveTime()<=this.emitTime){if(this.emitRate*Di){const t=1/this.emitRate/Di;for(this.emitTimeBuffer+=An;this.emitTimeBuffer>0;this.emitTimeBuffer-=t)this.emitParticle()}}else this.destroy();Ft&&Ee(this.pos,f(this.emitSize),"#0f0",0,this.angle)}emitParticle(){let t=this.emitSize.x!=null?new D(I(-.5,.5),I(-.5,.5)).multiply(this.emitSize).rotate(this.angle):zr(this.emitSize/2),s=I(this.particleConeAngle,-this.particleConeAngle);this.localSpace||(t=this.pos.add(t),s+=this.angle);const i=new ea(t,this.tileIndex,this.tileSize,s),n=this.randomness,r=w=>w+w*I(n,-n),a=r(this.particleTime),o=r(this.sizeStart),l=r(this.sizeEnd),u=r(this.speed),c=r(this.angleSpeed)*Lr(),h=I(this.emitConeAngle,-this.emitConeAngle),d=ki(this.colorStartA,this.colorStartB,this.randomColorLinear),p=ki(this.colorEndA,this.colorEndB,this.randomColorLinear),y=this.localSpace?h:this.angle+h;return i.colorStart=d,i.colorEndDelta=p.subtract(d),i.velocity=new D().setAngle(y,u),i.angleVelocity=c,i.lifeTime=a,i.sizeStart=o,i.sizeEndDelta=l-o,i.fadeRate=this.fadeRate,i.damping=this.damping,i.angleDamping=this.angleDamping,i.elasticity=this.elasticity,i.friction=this.friction,i.gravityScale=this.gravityScale,i.collideTiles=this.collideTiles,i.additive=this.additive,i.renderOrder=this.renderOrder,i.trailScale=this.trailScale,i.mirror=ae(2),i.localSpaceEmitter=this.localSpace&&this,i.destroyCallback=this.particleDestroyCallback,this.particleCreateCallback&&this.particleCreateCallback(i),i}render(){}}class ea extends Nt{constructor(t,s,i,n){super(t,new D,s,i,n)}render(){const t=ct((tt-this.spawnTime)/this.lifeTime,1),s=this.sizeStart+t*this.sizeEndDelta,i=new D(s,s),n=this.fadeRate/2,r=new b(this.colorStart.r+t*this.colorEndDelta.r,this.colorStart.g+t*this.colorEndDelta.g,this.colorStart.b+t*this.colorEndDelta.b,(this.colorStart.a+t*this.colorEndDelta.a)*(t<n?t/n:t>1-n?(1-t)/n:1));this.additive&&Pi(1);let a=this.pos,o=this.angle;if(this.localSpaceEmitter&&(a=this.localSpaceEmitter.pos.add(a.rotate(-this.localSpaceEmitter.angle)),o+=this.localSpaceEmitter.angle),this.trailScale){let l=this.velocity;this.localSpaceEmitter&&(l=l.rotate(-this.localSpaceEmitter.angle));const u=l.length(),c=l.scale(1/u),h=u*this.trailScale;i.y=ht(i.x,h),o=c.angle(),We(a.add(c.multiply(f(0,-h/2))),i,this.tileIndex,this.tileSize,r,o,this.mirror)}else We(a,i,this.tileIndex,this.tileSize,r,o,this.mirror);this.additive&&Pi(),Ft&&Ee(a,i,"#f005",0,o),t==1&&(this.color=r,this.size=i,this.destroyCallback&&this.destroyCallback(this),this.destroyed=1)}}let bs=[],Ie;function sa(){if(!bs.length)return;const e=bs[0],t=Fs-Ie;if(!Ie)Ie=Fs;else if(t>$i)bs.shift(Ie=0);else{const s=$i-Fe,i=t<Fe?1-t/Fe:t>s?(t-s)/Fe:0;e.render(i)}}let ut,x,fn,Be,gn,Kt,$s,vt,Os,Qs;function ia(){ut=document.createElement("canvas"),x=ut.getContext("webgl",{antialias:!1}),fn=yn(ot),document.body.appendChild(ut),Be=mn("precision highp float;uniform mat4 m;attribute vec2 p,t;attribute vec4 c,a;varying vec4 v,d,e;void main(){gl_Position=m*vec4(p,1,1);v=vec4(t,p);d=c;e=a;}","precision highp float;varying vec4 v,d,e;uniform sampler2D s;void main(){gl_FragColor=texture2D(s,v.xy)*d+e;}");const e=new ArrayBuffer(kn);gn=x.createBuffer(),Kt=new Float32Array(e),$s=new Uint32Array(e),vt=0}function pn(e){Qs=e}function Li(e,t){const s=x.createShader(t);if(x.shaderSource(s,e),x.compileShader(s),!x.getShaderParameter(s,xa))throw x.getShaderInfoLog(s);return s}function mn(e,t){const s=x.createProgram();if(x.attachShader(s,Li(e,ba)),x.attachShader(s,Li(t,ya)),x.linkProgram(s),!x.getProgramParameter(s,wa))throw x.getProgramInfoLog(s);return s}function yn(e){const t=x.createTexture();x.bindTexture(yt,t),e&&e.width&&x.texImage2D(yt,0,qe,qe,Xe,e);const s=ca;return x.texParameteri(yt,ha,s),x.texParameteri(yt,ua,s),x.texParameteri(yt,da,Bi),x.texParameteri(yt,fa,Bi),t}function na(){x.viewport(0,0,ut.width=S.width,ut.height=S.height),x.clear(ga),x.useProgram(Be),x.activeTexture(_n),x.bindTexture(yt,fn),x.bindBuffer(we,gn),x.bufferData(we,kn,ma),pn();let e=0;const t=(n,r,a,o,l=0)=>{const u=x.getAttribLocation(Be,n);x.enableVertexAttribArray(u),x.vertexAttribPointer(u,o,r,l,Tn,e),e+=o*a};t("p",Ps,4,2),t("t",Ps,4,2),t("c",Xe,1,4,1),t("a",Xe,1,4,1);const s=2*Q/S.width,i=2*Q/S.height;x.uniformMatrix4fv(x.getUniformLocation(Be,"m"),0,new Float32Array([s,0,0,0,0,i,0,0,1,1,-1,1,-1-s*W.x,-1-i*W.y,0,0]))}function ti(){if(!vt)return;const e=Os?Ri:la;x.blendFuncSeparate(oa,e,Ri,e),x.enable(Sn),x.bufferSubData(we,0,Kt.subarray(0,vt*Ke*En)),x.drawArrays(vn,0,vt*Ke),vt=0,Os=Qs}function Ne(e,t){!vt&&!t||(ti(),t&&e.drawImage(ut,0,0))}function zi(e,t,s,i,n,r,a,o,l,u,c=0){(vt==Cn||Os!=Qs)&&ti();const h=Math.cos(n)/2,d=Math.sin(n)/2,p=h*s,y=h*i,w=d*s,E=d*i;for(let k=6,C=vt++*Ke*En;k--;){const P=k-4&&k>1,A=k-5&&k-2&&k-1;Kt[C++]=e+(P?-p:p)+(A?E:-E),Kt[C++]=t+(A?y:-y)+(P?w:-w),Kt[C++]=P?r:o,Kt[C++]=A?a:l,$s[C++]=u,$s[C++]=c}}let Zt,bn,xn,wn;function ra(e,t){M(!Zt),e||(e="void mainImage(out vec4 c,vec2 p){c=texture2D(iChannel0,p/iResolution.xy);}"),Zt=mn("precision highp float;attribute vec2 p;void main(){gl_Position=vec4(p,1,1);}",`precision highp float;uniform sampler2D iChannel0;uniform vec3 iResolution;uniform float iTime;
`+e+`
void main(){mainImage(gl_FragColor,gl_FragCoord.xy);gl_FragColor.a=1.;}`),bn=x.createBuffer(),xn=yn(),wn=t,S.style.visibility="hidden"}function aa(){if(!Zt)return;ti(),Y.drawImage(ut,0,0),wn&&(Y.drawImage(it,0,0),it.width=S.width),x.useProgram(Zt),x.disable(Sn),x.bindBuffer(we,bn),x.bufferData(we,new Float32Array([-3,1,1,-3,1,1]),pa),x.pixelStorei(va,!0),x.activeTexture(_n),x.bindTexture(yt,xn),x.texImage2D(yt,0,qe,qe,Xe,S);const e=8,t=x.getAttribLocation(Zt,"p");x.enableVertexAttribArray(t),x.vertexAttribPointer(t,2,Ps,0,e,0);const s=i=>x.getUniformLocation(Zt,i);x.uniform1i(s("iChannel0"),0),x.uniform1f(s("iTime"),tt),x.uniform3f(s("iResolution"),S.width,S.height,1),x.drawArrays(vn,0,3)}const Ri=1,vn=4,oa=770,la=771,Sn=3042,yt=3553,Xe=5121,Ps=5126,qe=6408,ca=9728,ua=10240,ha=10241,da=10242,fa=10243,ga=16384,Bi=33071,_n=33984,we=34962,pa=35044,ma=35048,ya=35632,ba=35633,xa=35713,wa=35714,va=37440,Ke=6,En=6,Cn=65536,Tn=4*2*2+4*2,kn=Cn*Ke*Tn,ei="LittleJS",Sa="1.6.4",si=60,An=1/si;let lt=[],Dn=[],_a=0,tt=0,Fs=0,Ms=0;function Ni(e){Ms=e}function Ea(e,t,s,i,n,r){ot.onerror=ot.onload=()=>{he=f(ce).divide(ue=f(ot.width,ot.height)),ot.onload=()=>M(1);const c="margin:0;overflow:hidden;background:#000;touch-action:none;user-select:none;-webkit-user-select:none";document.body.style=c,document.body.appendChild(S=document.createElement("canvas")),Y=S.getContext("2d"),Fr(),ia(),document.body.appendChild(it=document.createElement("canvas")),m=it.getContext("2d");const h="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)";(ut||S).style=S.style=it.style=h,e(),u()};let a=0,o,l;function u(c=0){let h=c-a;a=c,l=le(.05,l,1e3/(h||1));const d=xe(107),p=xe(109);if(h*=d?5:p?.2:1,Fs+=h/1e3,o+=!Ms*h,d||(o=ct(o,50)),Re.x){S.width=Re.x,S.height=Re.y;const y=innerWidth/innerHeight,w=S.width/S.height;(ut||S).style.width=S.style.width=it.style.width=y<w?"100%":"",(ut||S).style.height=S.style.height=it.style.height=y<w?"":"100%"}else S.width=ct(innerWidth,Ai.x),S.height=ct(innerHeight,Ai.y);if(it.width=S.width,it.height=S.height,St=f(S.width,S.height),Ms)Fi(),Ci(),s(),Mi();else{let y=0;for(o<0&&o>-9&&(y=o,o=0);o>=0;o-=1e3/si)Fi(),t(),Ta(),Ci(),s(),Mi();o+=y}Ca(),i(),lt.sort((y,w)=>y.renderOrder-w.renderOrder);for(const y of lt)y.destroyed||y.render();if(n(),aa(),sa(),Mr(),Ne(Y),be){m.textAlign="right",m.textBaseline="top",m.font="1em monospace",m.fillStyle="#000";const y=ei+" v"+Sa+" / "+As+" / "+lt.length+" / "+l.toFixed(1)+" GL";m.fillText(y,S.width-3,3),m.fillStyle="#fff",m.fillText(y,S.width-2,2),As=0}requestAnimationFrame(u)}r?ot.src=r:ot.onload()}function Ca(){St=f(S.width,S.height),Y.imageSmoothingEnabled=!rn,na()}function Ta(){Dn=lt.filter(t=>t.collideSolidObjects);const e=t=>{if(!t.destroyed){t.update();for(const s of t.children)e(s)}};for(const t of lt)t.parent||e(t);lt=lt.filter(t=>!t.destroyed),tt=++_a/si}const ka=e=>W=e,Aa=e=>Re=e,$n=e=>pe=e,Da=e=>qs=e,$a=e=>be=e,Oa=e=>sn=e;class ii extends Nt{constructor(t){super(f(0,1.25),f(4,.5)),this.levelSize=t,this.color=new b(1,1,1,.5),this.setCollision(!0),this.mass=0}update(){const t=this.size.x*.5,s=this.levelSize.x-t;this.pos.x=N(wt.x,t,s)}increaseSize(){this.size.x+=2}decreaseSize(){this.size.x-=2,this.size.x<2&&(this.size.x=2)}resetSize(){this.size.x=4}}class ye extends Nt{constructor(t,s){super(t,s),this.setCollision(!0),this.mass=0,this.color=new b().setHex("#494746")}}const z=f(38,20),Pa=(e,t)=>e===t,Ze=Symbol("solid-proxy"),Fa=Symbol("solid-track"),Ye={equals:Pa};let On=Ln;const _t=1,Je=2,Pn={owned:null,cleanups:null,context:null,owner:null};var R=null;let xs=null,L=null,G=null,bt=null,ls=0;function je(e,t){const s=L,i=R,n=e.length===0,r=t===void 0?i:t,a=n?Pn:{owned:null,cleanups:null,context:r?r.context:null,owner:r},o=n?e:()=>e(()=>Rt(()=>cs(a)));R=a,L=null;try{return Te(o,!0)}finally{L=s,R=i}}function j(e,t){t=t?Object.assign({},Ye,t):Ye;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=n=>(typeof n=="function"&&(n=n(s.value)),In(s,n));return[Mn.bind(s),i]}function U(e,t,s){const i=ni(e,t,!1,_t);Ce(i)}function Fn(e,t,s){On=za;const i=ni(e,t,!1,_t);(!s||!s.render)&&(i.user=!0),bt?bt.push(i):Ce(i)}function ve(e,t,s){s=s?Object.assign({},Ye,s):Ye;const i=ni(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=s.equals||void 0,Ce(i),Mn.bind(i)}function Rt(e){if(L===null)return e();const t=L;L=null;try{return e()}finally{L=t}}function Ma(e){return R===null||(R.cleanups===null?R.cleanups=[e]:R.cleanups.push(e)),e}function Mn(){if(this.sources&&this.state)if(this.state===_t)Ce(this);else{const e=G;G=null,Te(()=>ts(this),!1),G=e}if(L){const e=this.observers?this.observers.length:0;L.sources?(L.sources.push(this),L.sourceSlots.push(e)):(L.sources=[this],L.sourceSlots=[e]),this.observers?(this.observers.push(L),this.observerSlots.push(L.sources.length-1)):(this.observers=[L],this.observerSlots=[L.sources.length-1])}return this.value}function In(e,t,s){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&Te(()=>{for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n],a=xs&&xs.running;a&&xs.disposed.has(r),(a?!r.tState:!r.state)&&(r.pure?G.push(r):bt.push(r),r.observers&&zn(r)),a||(r.state=_t)}if(G.length>1e6)throw G=[],new Error},!1)),t}function Ce(e){if(!e.fn)return;cs(e);const t=R,s=L,i=ls;L=R=e,Ia(e,e.value,i),L=s,R=t}function Ia(e,t,s){let i;try{i=e.fn(t)}catch(n){return e.pure&&(e.state=_t,e.owned&&e.owned.forEach(cs),e.owned=null),e.updatedAt=s+1,Rn(n)}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?In(e,i):e.value=i,e.updatedAt=s)}function ni(e,t,s,i=_t,n){const r={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:R,context:R?R.context:null,pure:s};return R===null||R!==Pn&&(R.owned?R.owned.push(r):R.owned=[r]),r}function Qe(e){if(e.state===0)return;if(e.state===Je)return ts(e);if(e.suspense&&Rt(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ls);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===_t)Ce(e);else if(e.state===Je){const i=G;G=null,Te(()=>ts(e,t[0]),!1),G=i}}function Te(e,t){if(G)return e();let s=!1;t||(G=[]),bt?s=!0:bt=[],ls++;try{const i=e();return La(s),i}catch(i){s||(bt=null),G=null,Rn(i)}}function La(e){if(G&&(Ln(G),G=null),e)return;const t=bt;bt=null,t.length&&Te(()=>On(t),!1)}function Ln(e){for(let t=0;t<e.length;t++)Qe(e[t])}function za(e){let t,s=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[s++]=i:Qe(i)}for(t=0;t<s;t++)Qe(e[t])}function ts(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const i=e.sources[s];if(i.sources){const n=i.state;n===_t?i!==t&&(!i.updatedAt||i.updatedAt<ls)&&Qe(i):n===Je&&ts(i,t)}}}function zn(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=Je,s.pure?G.push(s):bt.push(s),s.observers&&zn(s))}}function cs(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),i=e.sourceSlots.pop(),n=s.observers;if(n&&n.length){const r=n.pop(),a=s.observerSlots.pop();i<n.length&&(r.sourceSlots[a]=i,n[i]=r,s.observerSlots[i]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)cs(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ra(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Rn(e,t=R){throw Ra(e)}const Ba=Symbol("fallback");function ji(e){for(let t=0;t<e.length;t++)e[t]()}function Na(e,t,s={}){let i=[],n=[],r=[],a=0,o=t.length>1?[]:null;return Ma(()=>ji(r)),()=>{let l=e()||[],u,c;return l[Fa],Rt(()=>{let d=l.length,p,y,w,E,k,C,P,A,q;if(d===0)a!==0&&(ji(r),r=[],i=[],n=[],a=0,o&&(o=[])),s.fallback&&(i=[Ba],n[0]=je(et=>(r[0]=et,s.fallback())),a=1);else if(a===0){for(n=new Array(d),c=0;c<d;c++)i[c]=l[c],n[c]=je(h);a=d}else{for(w=new Array(d),E=new Array(d),o&&(k=new Array(d)),C=0,P=Math.min(a,d);C<P&&i[C]===l[C];C++);for(P=a-1,A=d-1;P>=C&&A>=C&&i[P]===l[A];P--,A--)w[A]=n[P],E[A]=r[P],o&&(k[A]=o[P]);for(p=new Map,y=new Array(A+1),c=A;c>=C;c--)q=l[c],u=p.get(q),y[c]=u===void 0?-1:u,p.set(q,c);for(u=C;u<=P;u++)q=i[u],c=p.get(q),c!==void 0&&c!==-1?(w[c]=n[u],E[c]=r[u],o&&(k[c]=o[u]),c=y[c],p.set(q,c)):r[u]();for(c=C;c<d;c++)c in w?(n[c]=w[c],r[c]=E[c],o&&(o[c]=k[c],o[c](c))):n[c]=je(h);n=n.slice(0,a=d),i=l.slice(0)}return n});function h(d){if(r[c]=d,o){const[p,y]=j(c);return o[c]=y,t(l[c],p)}return t(l[c])}}}function O(e,t){return Rt(()=>e(t||{}))}function Le(){return!0}const Is={get(e,t,s){return t===Ze?s:e.get(t)},has(e,t){return t===Ze?!0:e.has(t)},set:Le,deleteProperty:Le,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Le,deleteProperty:Le}},ownKeys(e){return e.keys()}};function ws(e){return(e=typeof e=="function"?e():e)?e:{}}function ja(){for(let e=0,t=this.length;e<t;++e){const s=this[e]();if(s!==void 0)return s}}function Ui(...e){let t=!1;for(let r=0;r<e.length;r++){const a=e[r];t=t||!!a&&Ze in a,e[r]=typeof a=="function"?(t=!0,ve(a)):a}if(t)return new Proxy({get(r){for(let a=e.length-1;a>=0;a--){const o=ws(e[a])[r];if(o!==void 0)return o}},has(r){for(let a=e.length-1;a>=0;a--)if(r in ws(e[a]))return!0;return!1},keys(){const r=[];for(let a=0;a<e.length;a++)r.push(...Object.keys(ws(e[a])));return[...new Set(r)]}},Is);const s={},i={},n=new Set;for(let r=e.length-1;r>=0;r--){const a=e[r];if(!a)continue;const o=Object.getOwnPropertyNames(a);for(let l=0,u=o.length;l<u;l++){const c=o[l];if(c==="__proto__"||c==="constructor")continue;const h=Object.getOwnPropertyDescriptor(a,c);if(!n.has(c))h.get?(n.add(c),Object.defineProperty(s,c,{enumerable:!0,configurable:!0,get:ja.bind(i[c]=[h.get.bind(a)])})):(h.value!==void 0&&n.add(c),s[c]=h.value);else{const d=i[c];d?h.get?d.push(h.get.bind(a)):h.value!==void 0&&d.push(()=>h.value):s[c]===void 0&&(s[c]=h.value)}}}return s}function Ua(e,...t){if(Ze in e){const n=new Set(t.length>1?t.flat():t[0]),r=t.map(a=>new Proxy({get(o){return a.includes(o)?e[o]:void 0},has(o){return a.includes(o)&&o in e},keys(){return a.filter(o=>o in e)}},Is));return r.push(new Proxy({get(a){return n.has(a)?void 0:e[a]},has(a){return n.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!n.has(a))}},Is)),r}const s={},i=t.map(()=>({}));for(const n of Object.getOwnPropertyNames(e)){const r=Object.getOwnPropertyDescriptor(e,n),a=!r.get&&!r.set&&r.enumerable&&r.writable&&r.configurable;let o=!1,l=0;for(const u of t)u.includes(n)&&(o=!0,a?i[l][n]=r.value:Object.defineProperty(i[l],n,r)),++l;o||(a?s[n]=r.value:Object.defineProperty(s,n,r))}return[...i,s]}const Va=e=>`Stale read from <${e}>.`;function Bn(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ve(Na(()=>e.each,e.children,t||void 0))}function ri(e){const t=e.keyed,s=ve(()=>e.when,void 0,{equals:(i,n)=>t?i===n:!i==!n});return ve(()=>{const i=s();if(i){const n=e.children;return typeof n=="function"&&n.length>0?Rt(()=>n(t?i:()=>{if(!Rt(s))throw Va("Show");return e.when})):n}return e.fallback},void 0,void 0)}var Mt=(e=>(e[e.Empty=0]="Empty",e[e.Normal=1]="Normal",e[e.Hard=2]="Hard",e[e.Unbreakable=3]="Unbreakable",e))(Mt||{});function Ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nn={exports:{}};function ai(){}ai.prototype={on:function(e,t,s){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:s}),this},once:function(e,t,s){var i=this;function n(){i.off(e,n),t.apply(s,arguments)}return n._=t,this.on(e,n,s)},emit:function(e){var t=[].slice.call(arguments,1),s=((this.e||(this.e={}))[e]||[]).slice(),i=0,n=s.length;for(i;i<n;i++)s[i].fn.apply(s[i].ctx,t);return this},off:function(e,t){var s=this.e||(this.e={}),i=s[e],n=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&n.push(i[r]);return n.length?s[e]=n:delete s[e],this}};Nn.exports=ai;var Ga=Nn.exports.TinyEmitter=ai;const _=new Ga;class F{constructor(t,s){g(this,"offsetX",0);g(this,"offsetY",10);g(this,"blockWidth",2);g(this,"blockHeight",1);g(this,"count");g(this,"coords");g(this,"key");this.name=t,this.map=s,this.map=s.reverse(),this.count=this.countBricks(),this.coords=this.calcCoords(),this.key=`Stage:${this.name}`}getMap(){return this.map}getBrickCount(){return this.count}brickCountEquals(t){return this.count===t.getValue()}getCoords(){return this.coords}countBricks(){return this.map.reduce((t,s)=>t+s.reduce((i,n)=>i+(n===1?1:0),0),0)}calcCoords(){const t=[];for(const[s,i]of this.map.entries())for(const[n,r]of i.entries())r!==Mt.Empty&&t.push([r,f(n*this.blockWidth+this.offsetX,s*this.blockHeight+this.offsetY)]);return t}isUnlocked(){return localStorage.getItem(this.key)==="unlocked"}unlock(t){localStorage.setItem(this.key,"unlocked"),_.emit("stage-unlocked",this.name,t)}}const jn=[new class extends F{constructor(){super("01",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0],[0,1,0,0,0,1,1,1,3,1,3,1,1,1,1,0,0,0,1,0],[0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),this.unlock(0)}},new class extends F{constructor(){super("02",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,3,0,3,0,3,0,3,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),this.unlock(1)}},new class extends F{constructor(){super("03",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,3,0,1,0,3,0,1,0,1,0,1,0,3,0,1,0,3,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),this.unlock(2)}},new class extends F{constructor(){super("04",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]])}},new class extends F{constructor(){super("05",[[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,3,0,1,0,3,0,1,3,3,1,0,3,0,1,0,3,0,0],[0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0],[0,0,3,0,1,0,3,0,1,3,3,1,0,3,0,1,0,3,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("06",[[0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0],[0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0],[0,0,3,0,1,0,3,0,1,3,3,1,0,3,0,1,0,3,3,0],[0,0,3,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,3,0],[0,0,3,0,1,0,3,0,1,3,3,1,0,3,0,1,0,3,0,0],[0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0],[0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("07",[[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,3,0,1,0,3,0,1,3,3,1,0,3,0,1,0,3,0,0],[0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0],[0,0,3,0,1,0,3,0,1,3,3,1,0,3,0,1,0,3,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("08",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,3,3,1,0,0,0,0,0,1,3,3,0,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,0,0,0],[0,0,1,1,1,1,3,1,1,1,0,1,1,1,3,1,1,1,0,0],[0,0,1,1,1,1,3,3,1,1,0,1,1,1,3,3,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("09",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,3,3,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,3,3,3,1,3,3,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,3,3,3,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0]])}},new class extends F{constructor(){super("10",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("11",[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,3],[3,1,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,3],[3,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("12",[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,3],[3,1,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,3],[3,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,3],[3,3,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,3,3],[0,3,3,3,0,0,0,0,1,0,1,0,0,0,0,0,3,3,3,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("13",[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,3],[3,1,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,3],[3,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,3],[3,3,3,0,0,0,0,0,0,1,0,0,0,0,0,0,0,3,3,3],[3,3,3,3,3,3,0,0,1,0,1,0,0,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("14",[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,3,1,3,1,0,0,0,0,0,0,0,0,1,3,1,3,1,3],[3,1,3,3,3,1,1,1,0,0,0,0,1,1,1,3,3,3,1,3],[3,3,3,3,3,0,0,1,1,1,1,1,1,0,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("15",[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,0,1,0,1,0,0,1,1,1,1,0,0,1,0,1,0,1,3],[3,1,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,3],[3,0,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,0,3],[3,3,3,0,0,0,0,0,0,1,0,0,0,0,0,0,0,3,3,3],[3,3,3,3,3,3,3,3,1,0,1,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("16",[[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],[1,1,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,1,1],[1,0,0,0,1,1,1,0,0,1,1,0,0,1,1,1,0,0,0,1],[1,0,0,1,1,1,1,1,0,1,1,0,0,1,1,1,1,0,0,1],[1,0,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]])}},new class extends F{constructor(){super("17",[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0],[1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0],[1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]])}},new class extends F{constructor(){super("18",[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,1,1,3,3,1,1,1,1,1,1,3,1,1,1,3],[3,1,3,1,3,1,3,3,3,1,3,1,3,1,3,3,3,1,3,3],[3,1,1,3,1,3,1,3,3,1,1,3,1,3,1,3,3,1,1,3],[3,3,1,1,3,1,3,1,3,1,1,1,3,1,3,1,3,1,3,3],[3,3,3,1,1,3,1,3,1,3,3,1,1,3,1,3,1,3,3,3],[3,3,1,3,3,1,3,1,3,1,1,3,1,1,3,1,3,1,3,3],[3,1,3,3,1,3,1,3,3,1,3,1,3,1,3,1,3,1,3,3],[3,1,1,1,3,1,3,3,3,1,3,1,3,1,1,1,3,1,3,3],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]])}},new class extends F{constructor(){super("19",[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,1,1,1,3],[3,3,1,1,1,1,1,3,3,1,3,3,3,3,3,1,1,1,3,3],[3,3,3,1,1,1,1,1,1,1,3,3,3,3,1,1,1,3,3,3],[3,3,3,3,1,3,3,1,1,1,3,3,3,1,1,1,3,3,3,3],[3,3,3,3,3,1,1,1,3,3,3,1,1,1,3,3,3,3,3,3],[3,3,3,3,3,3,1,3,3,3,3,1,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}},new class extends F{constructor(){super("20",[[1,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1],[1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3],[1,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1],[1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3],[1,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1],[1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3],[1,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1],[1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3],[1,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1],[1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3]])}}],Wa=new class extends F{constructor(){super("bonus",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]])}},[ne,Yt]=j(B.Modern),[us,Un]=j(0),[Se,Vn]=j(!0),[oi,Hn]=j(!1),[li,Gn]=j(!0),[Wn,At]=j(0),[Xn,Ls]=j(0),[_e,zs]=j(!1),[ci,qn]=j(0),[Kn,Rs]=j(!1),[Zn,Bs]=j(!1),[Yn,Ns]=j(!1),[ui,hi]=j(0),[di,Jn]=j(jn.map(e=>({name:e.name,unlocked:e.isUnlocked()}))),js=(e,t)=>{const s=di();s[t].unlocked=!0,Jn(s.map(i=>Object.assign({},i)))},Xa=Object.freeze(Object.defineProperty({__proto__:null,adRewardDisabled:_e,adRewardTimeLeft:ci,bonusLevelCounter:ui,extraLifeDialogShown:Yn,gameOverDialogShown:Kn,gameWinDialogShown:Zn,highScore:Xn,mode:ne,music:li,oldTVScreenEffect:oi,score:Wn,setAdRewardDisabled:zs,setAdRewardTimeLeft:qn,setBonusLevelCounter:hi,setExtraLifeDialogShown:Ns,setGameOverDialogShown:Rs,setGameWinDialogShown:Bs,setHighScore:Ls,setMode:Yt,setMusic:Gn,setOldTVScreenEffect:Hn,setScore:At,setSound:Vn,setStage:Un,setStagesUnlocked:Jn,sound:Se,stage:us,stagesUnlocked:di,unlockStage:js},Symbol.toStringTag,{value:"Module"}));class qa{constructor(t,s){g(this,"prefix","Breakout-");this.key=t,this.defaultValue=s,this.set(this.get())}get(){const t=localStorage.getItem(this.prefix+this.key);return t||this.defaultValue}toString(){return Number(this.get())}toValue(){return Number(this.get())}set(t){localStorage.setItem(this.prefix+this.key,String(t))}reset(){this.set(this.defaultValue)}}class hs{constructor(t,s=0,i=9){g(this,"value");this.initialValue=t,this.MIN=s,this.MAX=i,this.value=this.apply(t)}decrement(){this.value=this.apply(--this.value)}increment(){this.value=this.apply(++this.value)}restore(){this.value=this.initialValue}add(t){this.value+=t,this.value=this.apply(this.value)}sub(t){this.value-=t,this.value=this.apply(this.value)}getValue(){return this.value}hasValue(){return this.value>0}setMax(){this.value=this.MAX}setMin(){this.value=this.MIN}setVal(t){this.value=this.apply(t)}apply(t){return Math.min(Math.max(t,this.MIN),this.MAX)}}class Ka{constructor(t){g(this,"score");g(this,"highScore");this.initialValue=t,this.score=new hs(t,0,1e16),this.highScore=new qa("highScore",0),Ls(this.highScore.toValue()),At(this.score.getValue())}increment(){this.score.increment(),At(this.score.getValue()),this.evaluateHighScore()}decrement(){this.score.decrement(),At(this.score.getValue),this.evaluateHighScore()}add(t){this.score.add(t),At(this.score.getValue()),this.evaluateHighScore()}double(){this.score.setVal(this.score.getValue()*2),At(this.score.getValue()),this.evaluateHighScore()}reset(){this.score.restore(),At(this.initialValue)}toString(){return this.score.toString()}toValue(){return this.score.getValue()}getHighScore(){return this.highScore}evaluateHighScore(){this.score.getValue()>this.highScore.toValue()&&(this.highScore.set(this.score.getValue()),Ls(this.score.getValue()))}}const Za=""+new URL("tiles-75ceaa43.png",import.meta.url).href,Qn={enabled(){return window.location.hash.includes("debug")},disabled(){return!this.enabled()}};var $=(e=>(e[e.ExtraScore=0]="ExtraScore",e[e.ExtraBalls=1]="ExtraBalls",e[e.PaddleIncrease=2]="PaddleIncrease",e[e.ExtraLife=3]="ExtraLife",e[e.ExtraWall=4]="ExtraWall",e[e.PaddleDecrease=5]="PaddleDecrease",e[e.DoubleBalls=6]="DoubleBalls",e[e.TripleBalls=7]="TripleBalls",e[e.ExtraStrength=8]="ExtraStrength",e))($||{});class Et{constructor(t){g(this,"timers",[]);g(this,"timeout",1e4);this.game=t}clearTimers(){this.timers.forEach(clearTimeout)}}let Vi=class extends Et{constructor(t){super(t)}apply(){if(this.game.balls.hasValue()){const t=this.game.balls.getOne();if(!t||t.destroyed)return;this.game.balls.spawnManyAt(W,3)}}};class Ya extends Et{constructor(t){super(t)}apply(){this.game.lives.increment()}}class Ja extends Et{constructor(t){super(t)}apply(){var t;(t=this.game.paddle)==null||t.increaseSize(),this.timers.push(setTimeout(()=>{var s;(s=this.game.paddle)==null||s.decreaseSize()},this.timeout))}}class Qa extends Et{constructor(t){super(t)}apply(){var t;(t=this.game.paddle)==null||t.decreaseSize(),this.timers.push(setTimeout(()=>{var s;(s=this.game.paddle)==null||s.increaseSize()},this.timeout))}}class to extends Et{constructor(t){super(t)}apply(){this.game.score.add(10)}}class eo extends Et{constructor(s){super(s);g(this,"size",f(z.x,.25));g(this,"position",f(z.x*.5,.14))}apply(){var s;(s=this.game.floor)==null||s.destroy(),this.game.floor=new ye(this.position,this.size),this.game.floor.color=new b(1,1,1,.5),this.timers.push(setTimeout(()=>{var i;(i=this.game.floor)==null||i.destroy(),this.game.floor=null},this.timeout))}}class so extends Et{constructor(t){super(t)}apply(){this.game.balls.hasValue()&&this.game.balls.double()}}class io extends Et{constructor(t){super(t)}apply(){this.game.balls.hasValue()&&this.game.balls.triple()}}const tr=[[6,1],[5,10],[16,11],[12,7],[15,20],[17,0],[26,21],[2,27],[31,30]],no=22,ro=new b().setHex("#486370"),es=[new b().setHex("#00854A"),new b().setHex("#8CC63F"),new b().setHex("#FFDD00"),new b().setHex("#ED1B25"),new b().setHex("#91278F"),new b().setHex("#005AAB"),new b().setHex("#00AAE5"),new b().setHex("#F7931F"),new b().setHex("#744C1F")];if(es.length!==tr.length)throw new Error("Colors and Tiles must have the same length");class ao extends Nt{constructor(s,i){super(s,f(.5));g(this,"type");g(this,"sign",1);g(this,"stopped",!1);g(this,"oldVelocity",f(0));this.type=i,this.setCollision(!0),this.velocity=f(0,-.1),this.color=es[this.type],this.sign=ae(0,1)===0?-1:1}getType(){return this.type}update(){this.stopped||(this.angle+=this.sign*.3,this.pos.y<0&&this.destroy(),super.update())}collideWithObject(s){return s instanceof ii&&(_.emit("bonusCollected",this),this.destroy()),!1}stopMovement(){this.stopped=!0,this.oldVelocity=this.velocity,this.velocity=f(0)}resumeMovement(){this.stopped=!1,this.velocity=this.oldVelocity}}class oo{constructor(t,s=null){this.value=t,this.next=s}}class ke{constructor(){g(this,"head");g(this,"tail");g(this,"length");this.head=null,this.tail=null,this.length=0}add(t){const s=new oo(t);if(this.head===null){this.head=s,this.tail=s,this.length++;return}this.tail===null&&(this.tail=s),this.tail.next=s,this.tail=s,this.length++}remove(t){if(this.head===null)return;if(this.head.value===t){this.head=this.head.next,this.head===null&&(this.tail=null),this.length--;return}let s=this.head;for(;s.next!==null;){if(s.next.value===t){s.next=s.next.next,s.next===null&&(this.tail=s),this.length--;return}s=s.next}}has(t){if(this.head===null)return!1;let s=this.head;for(;s!==null;){if(s.value===t)return!0;s=s.next}return!1}*[Symbol.iterator](){if(this.head===null)return;let t=this.head;for(;t!==null;)yield t.value,t=t.next}toArray(){const t=[];let s=this.head;for(;s!==null;)t.push(s.value),s=s.next;return t}getLength(){return this.length}isEmpty(){return this.length===0}peek(){var t;return(t=this.head)==null?void 0:t.value}clear(){this.head=null,this.tail=null,this.length=0}}class lo{constructor(t){g(this,"commands");g(this,"bonuses",new ke);this.commands={[$.ExtraBalls]:new Vi(t),[$.ExtraLife]:new Ya(t),[$.PaddleIncrease]:new Ja(t),[$.PaddleDecrease]:new Qa(t),[$.ExtraScore]:new to(t),[$.ExtraWall]:new eo(t),[$.DoubleBalls]:new so(t),[$.TripleBalls]:new io(t),[$.ExtraStrength]:new Vi(t)}}collect(t){this.commands[t.getType()].apply();for(const s of this.bonuses)s.destroyed&&this.bonuses.remove(s)}produce(t){this.bonuses.add(new ao(f(ae(2,z.x-2),z.y-2),t))}clearTimers(){for(const t of Object.values(this.commands))t.clearTimers()}destroy(){this.clearTimers();for(const t of this.bonuses)t.destroy(),this.bonuses.remove(t)}stop(){for(const t of this.bonuses)t.stopMovement()}resume(){for(const t of this.bonuses)t.resumeMovement()}}class co{constructor(t){g(this,"game");g(this,"stages");g(this,"index",0);g(this,"currentStage");this.game=t,this.stages=jn,this.currentStage=this.stages[this.index]}get current(){return this.currentStage}showClickToStartText(){new ys().drawText("Click to Start",W.add(f(0,-5)),.1,!0)}showCurrentStageText(){const t=this.game.mode.isBonus()?"Bonus Stage":`Stage ${this.currentStage.name}`;new ys().drawText(t,W.add(f(0,0)),.2,!0)}showCounterText(){const t=[];t.push(`Score: ${String(this.game.score.toValue()).padStart(4,"0")}`),t.push(`Lives: ${String(this.game.lives.getValue()).padStart(2,"0")}`),this.game.mode.isBonus()||t.push(`Stage: ${String(this.game.stage.currentStage.name).padStart(2,"0")}`),t.push(`Mode: ${this.game.mode.toString()}`),t.push(`High-Score: ${String(this.game.score.getHighScore()).padStart(6,"0")}`),this.game.mode.isBonus()&&t.push(`Ends: ${String(ui()).padStart(2,"0")}`),new ys().drawText(t.join(" | "),f(z.x*.5,z.y+.5),.07,!0)}execute(t){this.index=t,this.currentStage=this.stages[this.index]}next(){this.game.mode.toggleBonus(),this.game.mode.isBonus()?this.currentStage=Wa:(this.index=Math.min(this.index+1,this.stages.length-1),this.currentStage=this.stages[this.index],this.currentStage.isUnlocked()||this.currentStage.unlock(this.index)),this.start()}start(){this.game.bricks.destroy(),this.game.bricks.populate()}restart(){this.game.bricks.destroy(),this.game.bricks.populate()}isCleared(){return this.currentStage.brickCountEquals(this.game.bricks.destroyed)}}class uo extends hs{runOut(){return!this.hasValue()}}class fi{constructor(t){g(this,"probabilities",[]);t&&this.setProbabilities(t)}setProbabilities(t){this.probabilities=t,this.assertProbabilitiesSumUpToOne()}pick(){this.assertProbabilitiesSumUpToOne();const t=Math.random();let s=0;for(const[i,n]of this.probabilities)if(s+=n/100,t<=s)return i;throw new Error("Failed to pick a number based on probabilities.")}*[Symbol.iterator](){for(const[t]of this.probabilities)yield t}assertProbabilitiesSumUpToOne(){if(this.probabilities.length===0)throw new Error("Probabilities should not be empty.");const t=this.probabilities.reduce((s,[,i])=>s+i,0);if(t!==100)throw new Error(`Probabilities should sum up to 100. Sum is ${t}.`)}}class gi extends Nt{constructor(s,i=f(2,1)){super(s,i);g(this,"strength",1);g(this,"hitCount",0);g(this,"tiles");g(this,"index",0);g(this,"picker");this.picker=new fi([[Mt.Normal,70],[Mt.Hard,30]]),this.mass=0,this.angle=0,this.setCollision(!0),this.strength=this.picker.pick(),this.index=ae(0,es.length),this.tiles=this.getTileByIndex(this.index),this.color=this.getColorByIndex(this.index),this.tileIndex=this.tiles[this.hitCount],this.tileSize=f(384,128),this.renderOrder=-1}get score(){return this.strength}getStrength(){return this.strength}setStrength(s){this.strength=s}increaseHitCount(){this.tileIndex=this.tiles[++this.hitCount],this.angle=I(-.3,.3)}shallBeDestroyed(){return this.hitCount>=this.strength}getColorByIndex(s){return es[s]}getTileByIndex(s){return tr[s]}}_.on("sound",()=>{$n(Se()),console.info("Sound is",Se()?"enabled":"disabled")});_.emit("music",()=>{console.info("Music is",li()?"enabled":"disabled")});const It={gameLose:new Wt([2,,1118,.02,.02,.12,,1.85,-2.4,-.1,-209,.04,,,,,.08,.99,,.13]),gameWin:new Wt([1.03,,429,.07,.15,.23,1,1.43,,8.8,,,.07,,,,,.4,.29,.47]),gameStart:new Wt([,0,500,,.04,.3,1,2,,,570,.02,.02,,,,.04]),ballBounce:new Wt([,,119,.02,.01,.02,,.26,,.5,,,,,-381,,,,.01,.8]),brickHit:new Wt([,,141,,,.02,1,0,,,,,,.5,70,,,,.01]),brickDestroy:new Wt([1.37,,574,.04,.27,.3,2,2.9,.6,-.1,,,.13,1.8,,.3,,.25,.01])},Hi={BallDestroy:(e,t)=>new Ii(e,0,0,.1,500,3.14,-1,f(8,8),t,t,t.scale(1,0),t.scale(1,0),.2,.1,.45,.1,.05,.98,1,0,3.14,.1,1,!1,!1,!0),BrickHit:(e,t)=>new Ii(e,0,0,.1,50,.45,4,f(10,10),t,t,t.scale(1,0),t.scale(1,0),.2,.1,.45,.39,.05,.98,1,0,1,.1,.99,!0,!0,!1)};class pi extends hs{constructor(t){super(t)}static getColor(t){return t===0?new b().setHex("#ffffff"):t===1?new b().setHex("#ffffff"):t===2?new b().setHex("#ffd0d0"):t===3?new b().setHex("#ffb0b0"):t===4?new b().setHex("#ff9090"):t===5?new b().setHex("#ff7070"):t===6?new b().setHex("#ff5050"):t===7?new b().setHex("#ff3030"):t===8?new b().setHex("#ff1010"):new b().setHex("#ff0000")}getColor(){return pi.getColor(this.value)}}class ho extends Nt{constructor(s,i=1){super(s,f(.25));g(this,"strength");g(this,"stopped",!1);g(this,"oldVelocity",f(0));this.strength=new pi(i);const n=ae(0,2)===0?-1:1;this.velocity=f(.1*n,-.1),this.setCollision(!0),this.elasticity=1}collideWithObject(s){const i=s instanceof gi,n=s instanceof ii;return i?this.handleBrickCollision(s):n?this.handlePaddleCollision(s):!0}update(){if(!this.stopped)return this.angleVelocity=this.velocity.length()*10,this.color=this.strength.getColor(),super.update()}stopMovement(){this.stopped=!0,this.oldVelocity=this.velocity,this.velocity=f(0)}resumeMovement(){this.stopped=!1,this.velocity=this.oldVelocity}handleBrickCollision(s){this.strength.sub(s.getStrength());const{color:i}=s;return It.brickHit.play(this.pos),s.increaseHitCount(),s.shallBeDestroyed()?(Hi.BallDestroy(this.pos,i),It.brickDestroy.play(this.pos),_.emit("brickDestroyed",s),s.destroy()):Hi.BrickHit(this.pos,i),!this.strength.hasValue()}handlePaddleCollision(s){this.strength.restore();const i=this.velocity.length()+.5;It.ballBounce.play(this.pos,1,i);const n=this.pos.x-s.pos.x;this.velocity=this.velocity.rotate(n*.3),this.velocity.y=ht(this.velocity.y,.3);const r=ct(1.04*this.velocity.length(),.5);return this.velocity=this.velocity.normalize().scale(r),!1}}class fo{constructor(){g(this,"MAX_BALLS",200);g(this,"balls");g(this,"picker");g(this,"strength",1);this.balls=new ke,this.picker=new fi([[-.5,50],[.5,50]])}add(t){this.balls.add(t)}setStrength(t){this.strength=t}remove(t){this.balls.remove(t)}spawnOneAt(t=W){if(this.balls.getLength()<this.MAX_BALLS){const s=this.picker.pick(),i=this.picker.pick();this.add(new ho(f(t.x+s,t.y+i),this.strength))}}spawnManyAt(t=W,s=1){for(let i=0;i<s;i++)this.spawnOneAt(t)}double(){for(const t of this.balls.toArray())this.spawnOneAt(t.pos)}triple(){for(const t of this.balls.toArray())this.spawnManyAt(t.pos,2)}hasValue(){return!this.balls.isEmpty()}escaped(){return this.balls.isEmpty()}getOne(){return this.balls.peek()}update(){for(const t of this.balls)t.pos.y<-1&&t.destroy(),t.destroyed&&this.balls.remove(t)}*[Symbol.iterator](){for(const t of this.balls)yield t}destroy(){for(const t of this.balls)t.destroy();this.balls.clear()}stop(){for(const t of this.balls)t.stopMovement()}resume(){for(const t of this.balls)t.resumeMovement()}}let Ae=class{constructor(t){g(this,"bonusPicker",new fi);g(this,"timers",[]);this.game=t}async update(){}pickBonus(){return this.bonusPicker.pick()}clearTimers(){this.timers.forEach(clearTimeout)}};var Lt=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var t=1.70158;return e===1?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return e===0?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Lt.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Lt.Bounce.In(e*2)*.5:Lt.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(t*2,e)/2:(1-Math.pow(2-t*2,e))/2+.5}}}}),de=function(){return performance.now()},go=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(s){return t._tweens[s]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},e.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},e.prototype.update=function(t,s){t===void 0&&(t=de()),s===void 0&&(s=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var r=this._tweens[i[n]],a=!s;r&&r.update(t,a)===!1&&!s&&delete this._tweens[i[n]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Jt={Linear:function(e,t){var s=e.length-1,i=s*t,n=Math.floor(i),r=Jt.Utils.Linear;return t<0?r(e[0],e[1],i):t>1?r(e[s],e[s-1],s-i):r(e[n],e[n+1>s?s:n+1],i-n)},Bezier:function(e,t){for(var s=0,i=e.length-1,n=Math.pow,r=Jt.Utils.Bernstein,a=0;a<=i;a++)s+=n(1-t,i-a)*n(t,a)*e[a]*r(i,a);return s},CatmullRom:function(e,t){var s=e.length-1,i=s*t,n=Math.floor(i),r=Jt.Utils.CatmullRom;return e[0]===e[s]?(t<0&&(n=Math.floor(i=s*(1+t))),r(e[(n-1+s)%s],e[n],e[(n+1)%s],e[(n+2)%s],i-n)):t<0?e[0]-(r(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[s]-(r(e[s],e[s],e[s-1],e[s-1],i-s)-e[s]):r(e[n?n-1:0],e[n],e[s<n+1?s:n+1],e[s<n+2?s:n+2],i-n)},Utils:{Linear:function(e,t,s){return(t-e)*s+e},Bernstein:function(e,t){var s=Jt.Utils.Factorial;return s(e)/s(t)/s(e-t)},Factorial:function(){var e=[1];return function(t){var s=1;if(e[t])return e[t];for(var i=t;i>1;i--)s*=i;return e[t]=s,s}}(),CatmullRom:function(e,t,s,i,n){var r=(s-e)*.5,a=(i-t)*.5,o=n*n,l=n*o;return(2*t-2*s+r+a)*l+(-3*t+3*s-2*r-a)*o+r*n+t}}},po=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Us=new go,er=function(){function e(t,s){s===void 0&&(s=Us),this._object=t,this._group=s,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Lt.Linear.None,this._interpolationFunction=Jt.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=po.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(t,s){if(s===void 0&&(s=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=t,this._propertiesAreSetUp=!1,this._duration=s,this},e.prototype.duration=function(t){return t===void 0&&(t=1e3),this._duration=t,this},e.prototype.dynamic=function(t){return t===void 0&&(t=!1),this._isDynamic=t,this},e.prototype.start=function(t,s){if(t===void 0&&(t=de()),s===void 0&&(s=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,!this._propertiesAreSetUp||s){if(this._propertiesAreSetUp=!0,!this._isDynamic){var n={};for(var r in this._valuesEnd)n[r]=this._valuesEnd[r];this._valuesEnd=n}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,s)}return this},e.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},e.prototype._setupProperties=function(t,s,i,n,r){for(var a in i){var o=t[a],l=Array.isArray(o),u=l?"array":typeof o,c=!l&&Array.isArray(i[a]);if(!(u==="undefined"||u==="function")){if(c){var h=i[a];if(h.length===0)continue;for(var d=[o],p=0,y=h.length;p<y;p+=1){var w=this._handleRelativeValue(o,h[p]);if(isNaN(w)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(w)}c&&(i[a]=d)}if((u==="object"||l)&&o&&!c){s[a]=l?[]:{};var E=o;for(var k in E)s[a][k]=E[k];n[a]=l?[]:{};var h=i[a];if(!this._isDynamic){var C={};for(var k in h)C[k]=h[k];i[a]=h=C}this._setupProperties(E,s[a],h,n[a],r)}else(typeof s[a]>"u"||r)&&(s[a]=o),l||(s[a]*=1),c?n[a]=i[a].slice().reverse():n[a]=s[a]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(t){return t===void 0&&(t=de()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},e.prototype.resume=function(t){return t===void 0&&(t=de()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var t=0,s=this._chainedTweens.length;t<s;t++)this._chainedTweens[t].stop();return this},e.prototype.group=function(t){return t===void 0&&(t=Us),this._group=t,this},e.prototype.delay=function(t){return t===void 0&&(t=0),this._delayTime=t,this},e.prototype.repeat=function(t){return t===void 0&&(t=0),this._initialRepeat=t,this._repeat=t,this},e.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},e.prototype.yoyo=function(t){return t===void 0&&(t=!1),this._yoyo=t,this},e.prototype.easing=function(t){return t===void 0&&(t=Lt.Linear.None),this._easingFunction=t,this},e.prototype.interpolation=function(t){return t===void 0&&(t=Jt.Linear),this._interpolationFunction=t,this},e.prototype.chain=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];return this._chainedTweens=t,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t,s){if(t===void 0&&(t=de()),s===void 0&&(s=!0),this._isPaused)return!0;var i,n,r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>r)return!1;s&&this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=this._duration===0||n>1?1:n;var a=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),n===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,l=this._chainedTweens.length;o<l;o++)this._chainedTweens[o].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(t,s,i,n){for(var r in i)if(s[r]!==void 0){var a=s[r]||0,o=i[r],l=Array.isArray(t[r]),u=Array.isArray(o),c=!l&&u;c?t[r]=this._interpolationFunction(o,n):typeof o=="object"&&o?this._updateProperties(t[r],a,o,n):(o=this._handleRelativeValue(a,o),typeof o=="number"&&(t[r]=a+(o-a)*n))}},e.prototype._handleRelativeValue=function(t,s){return typeof s!="string"?s:s.charAt(0)==="+"||s.charAt(0)==="-"?t+parseFloat(s):parseFloat(s)},e.prototype._swapEndStartRepeatValues=function(t){var s=this._valuesStartRepeat[t],i=this._valuesEnd[t];typeof i=="string"?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(i):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=s},e}(),dt=Us;dt.getAll.bind(dt);dt.removeAll.bind(dt);dt.add.bind(dt);dt.remove.bind(dt);dt.update.bind(dt);class mo extends ye{constructor(){super(f(z.x*.5,3),f(z.x-.5,.1)),this.color=new b(1,1,1,.3),this.setCollision(!1,!1)}}class vs extends Ae{constructor(s){super(s);g(this,"displayName","Dynamic");g(this,"timeout",1e4);g(this,"tweens",new ke);g(this,"line");this.bonusPicker.setProbabilities([[$.ExtraScore,20],[$.ExtraStrength,20],[$.PaddleIncrease,20],[$.PaddleDecrease,40]])}apply(){console.info("Dynamic mode activated"),this.game.balls.setStrength(2),this.clearTimers(),this.line=new mo,this.timers.push(setInterval(()=>{if(this.game.state.isStarted){this.tweens.clear();for(const s of this.game.bricks){if(s.pos.y<4){_.emit("brickCrossedLine",s);break}const i=new er(s.pos);i.to({y:s.pos.y-1},500),i.easing(Lt.Bounce.Out),i.start(),this.tweens.add(i)}}},this.timeout))}async update(){await super.update();for(const s of this.tweens)s.update()}clearTimers(){super.clearTimers(),this.tweens.clear(),this.line&&this.line.destroy()}}class Ss extends Ae{constructor(){super(...arguments);g(this,"displayName","Classic")}apply(){if(console.info("Classic mode activated"),this.game.bricks.areEmpty())throw new Error("No bricks to iterate");this.game.balls.setStrength(1);for(const s of this.game.bricks)s.setStrength(1)}}class _s extends Ae{constructor(s){super(s);g(this,"displayName","Bonus");g(this,"timeout",3e3);g(this,"tweens",new ke);this.bonusPicker.setProbabilities([[$.DoubleBalls,10],[$.TripleBalls,10],[$.ExtraBalls,30],[$.ExtraScore,30],[$.ExtraWall,20]])}apply(){console.info("Bonus mode activated"),hi(30),this.game.balls.setStrength(9),this.tweens.clear(),this.clearTimers(),this.timers.push(setInterval(()=>{if(this.game.state.isStarted)for(const s of this.game.bricks){const i=new er(s.pos);i.to({y:s.pos.y-1},900),i.easing(Lt.Bounce.Out),i.start(),this.tweens.add(i)}},this.timeout))}async update(){await super.update();for(const s of this.tweens)s.update()}}class Es extends Ae{constructor(s){super(s);g(this,"displayName","Modern");this.bonusPicker.setProbabilities([[$.DoubleBalls,5],[$.TripleBalls,5],[$.ExtraBalls,15],[$.ExtraScore,15],[$.ExtraWall,10],[$.ExtraStrength,20],[$.PaddleDecrease,15],[$.PaddleIncrease,15]])}apply(){this.game.balls.setStrength(3),console.info("Modern mode activated")}}class yo extends Ae{constructor(){super(...arguments);g(this,"displayName","Empty")}apply(){}}class bo{constructor(t){g(this,"modes");g(this,"currentMode");g(this,"previousMode",null);this.modes={[B.Empty]:new yo(t),[B.Dynamic]:new vs(t),[B.Classic]:new Ss(t),[B.Bonus]:new _s(t),[B.Modern]:new Es(t)},this.currentMode=this.modes[B.Empty]}toString(){return this.currentMode.displayName}execute(t){this.clearTimers(),this.previousMode=this.currentMode,this.currentMode=this.modes[t],this.currentMode.apply()}async update(){await this.currentMode.update()}toggleBonus(){if(this.modeIsBonus())return this.restorePreviousMode();this.execute(B.Bonus),Yt(B.Bonus)}restorePreviousMode(){this.clearTimers(),this.previousMode&&(this.previousMode instanceof Ss?Yt(B.Classic):this.previousMode instanceof Es?Yt(B.Modern):this.previousMode instanceof vs&&Yt(B.Dynamic),this.currentMode=this.previousMode,this.currentMode.apply())}setDefault(){this.execute(B.Dynamic)}isDynamic(){return this.currentMode instanceof vs}isClassic(){return this.currentMode instanceof Ss}modeIsBonus(){return this.currentMode instanceof _s}isModern(){return this.currentMode instanceof Es}isBonus(){return this.currentMode instanceof _s}pickBonusType(){return this.currentMode.pickBonus()}clearTimers(){this.currentMode.clearTimers()}reApply(){this.currentMode.apply()}}class rt{constructor(t){this.game=t}async attach(){console.group(`${this.constructor.name} state`),console.debug("Attached")}async detach(){console.debug("Detached"),console.groupEnd()}update(t){}}class sr extends rt{constructor(s){super(s);g(this,"timer",null);this.onBonusCollected=this.onBonusCollected.bind(this),this.onBrickDestroyed=this.onBrickDestroyed.bind(this),this.onBrickCrossedLine=this.onBrickCrossedLine.bind(this)}async attach(){await super.attach(),this.game.mode.reApply(),this.startCountdown(),this.game.bonus.resume(),this.game.balls.resume(),_.on("bonusCollected",this.onBonusCollected),_.on("brickDestroyed",this.onBrickDestroyed),_.on("brickCrossedLine",this.onBrickCrossedLine),!this.game.balls.hasValue()&&this.game.lives.hasValue()&&(It.gameStart.play(),this.game.balls.spawnOneAt(W))}async detach(){this.game.bonus.stop(),this.game.balls.stop(),this.game.mode.clearTimers(),this.stopCountdown(),_.off("bonusCollected",this.onBonusCollected),_.off("brickDestroyed",this.onBrickDestroyed),_.off("brickCrossedLine",this.onBrickCrossedLine),await super.detach()}async update(s){if(this.game.balls.update(),await this.evaluateBonusModeEnd(),this.game.balls.escaped())return this.game.mode.isBonus()?await this.game.state.changeTo("stageWinDialog"):(It.gameLose.play(),this.game.balls.destroy(),this.game.lives.decrement(),this.game.lives.runOut()?await this.game.state.changeTo("extraLifeDialog"):await this.game.state.changeTo("idle"));if(this.game.stage.isCleared())return await this.game.state.changeTo("stageWinDialog")}onBonusCollected(s){this.game.bonus.collect(s)}onBrickCrossedLine(s){return It.gameLose.play(),this.game.state.changeTo("gameOver")}onBrickDestroyed(s){this.game.score.add(s.score),s.isBreakable&&this.game.bricks.destroyed.increment(),!this.game.mode.isClassic()&&this.game.score.toValue()%3===0&&this.game.bonus.produce(this.game.mode.pickBonusType())}async evaluateBonusModeEnd(){this.game.mode.modeIsBonus()&&ui()<=0&&await this.game.state.changeTo("stageWinDialog")}startCountdown(){this.game.mode.modeIsBonus()&&(this.timer=setInterval(()=>{hi(s=>s-1)},1e3))}stopCountdown(){this.timer&&(clearInterval(this.timer),this.timer=null)}}class ir extends rt{}class nr extends rt{async attach(){await super.attach(),this.game.stage.restart(),this.game.balls.destroy(),this.game.bonus.destroy(),this.game.lives.restore()}async detach(){await super.detach()}async update(t){(Ks(0)||Js(0))&&await this.game.state.changeTo("started"),this.game.stage.showCurrentStageText(),this.game.stage.showClickToStartText()}}class rr extends rt{async attach(){await super.attach()}async detach(){await super.detach()}async update(t){(Ks(0)||Js(0))&&await this.game.state.changeTo("started"),this.game.stage.showClickToStartText()}}class ar extends rt{async attach(){await super.attach(),Ni(!0);try{await this.game.ads.showRewardAd(),console.info("Ad finished"),await this.rewardPlayer(),await this.game.state.changeTo("idle")}catch(t){console.warn("Ad error",t),await this.game.state.changeTo("gameOver")}}async detach(){Ni(!1),await super.detach()}async rewardPlayer(){this.game.lives.increment()}}let or=class extends rt{constructor(t){super(t),this.handleStartClick=this.handleStartClick.bind(this)}async attach(){await super.attach(),this.game.bonus.stop(),Rs(!0),_.on("startClick",this.handleStartClick)}async detach(){Rs(!1),_.off("startClick",this.handleStartClick),await super.detach()}async handleStartClick(){this.game.mode.execute(ne()),this.game.stage.execute(us()),this.game.balls.destroy(),this.game.bonus.destroy(),this.game.bricks.destroy(),this.game.lives.restore(),this.game.bricks.populate(),this.game.state.previous.isExtraLifeDialog&&this.game.score.reset(),await this.game.state.changeTo("idle")}};class lr extends rt{constructor(t){super(t),this.handleDoubleWin=this.handleDoubleWin.bind(this),this.handleNextStage=this.handleNextStage.bind(this),this.handleRestart=this.handleRestart.bind(this)}async attach(){await super.attach(),It.gameWin.play(),ns.isCrazyGames()&&await window.CrazyGames.SDK.game.happytime(),Bs(!0),_.on("doubleWin",this.handleDoubleWin),_.on("nextStage",this.handleNextStage),_.on("restartStage",this.handleRestart)}async detach(){Bs(!1),_.off("doubleWin",this.handleDoubleWin),_.off("nextStage",this.handleNextStage),_.off("restartStage",this.handleRestart),await super.detach()}async handleDoubleWin(){await this.game.state.changeTo("adBreakDoubleScore")}async handleNextStage(){await this.game.state.changeTo("nextStage")}async handleRestart(){await this.game.state.changeTo("restarted")}}class Vs extends rt{}let cr=class extends rt{constructor(t){super(t),this.handleGetExtraLife=this.handleGetExtraLife.bind(this)}async attach(){await super.attach(),Ns(!0),_.on("getExtraLife",this.handleGetExtraLife)}async detach(){Ns(!1),_.off("getExtraLife",this.handleGetExtraLife),await super.detach()}async handleGetExtraLife(t){if(t)return await this.game.state.changeTo("adBreakExtraLife");await this.game.state.changeTo("gameOver")}};class ur extends rt{async attach(){await super.attach(),this.game.balls.destroy(),this.game.bonus.destroy(),this.game.stage.next()}async detach(){await super.detach()}async update(t){(Ks(0)||Js(0))&&await this.game.state.changeTo("started"),this.game.stage.showCurrentStageText(),this.game.stage.showClickToStartText()}}class Gi{constructor(t){this.state=t}get isPaused(){return this.state instanceof ir}get isStarted(){return this.state instanceof sr}get isIdle(){return this.state instanceof rr}get isGameOver(){return this.state instanceof or}get isAdBreak(){return this.state instanceof ar}get isExtraLifeDialog(){return this.state instanceof cr}get isStageWinDialog(){return this.state instanceof lr}get isNextStage(){return this.state instanceof ur}get isRestarted(){return this.state instanceof nr}get isInitial(){return this.state instanceof Vs}get value(){return this.state}set value(t){this.state=t}}class xo extends rt{async attach(){await super.attach();try{await this.game.ads.showRewardAd(),console.info("Ad finished"),await this.rewardPlayer()}catch(t){console.warn("Ad error",t)}finally{await this.game.state.changeTo("nextStage")}}async detach(){await super.detach()}async rewardPlayer(){this.game.score.double()}}class wo extends Gi{constructor(s){super(new Vs(s));g(this,"states");g(this,"previousState");this.states={initial:new Vs(s),started:new sr(s),paused:new ir(s),idle:new rr(s),restarted:new nr(s),gameOver:new or(s),nextStage:new ur(s),extraLifeDialog:new cr(s),stageWinDialog:new lr(s),adBreakExtraLife:new ar(s),adBreakDoubleScore:new xo(s)},this.state=this.states.initial,this.state.attach(),this.previousState=new Gi(this.state)}get previous(){return this.previousState}async changeTo(s){this.previousState.value=this.state,await this.state.detach(),this.state=this.states[s],await this.state.attach()}update(s){this.state.update(s)}}class vo extends gi{constructor(t,s=f(2,1)){super(t,s),this.strength=16,this.tiles=this.getTileByIndex(1),this.color=ro,this.tileIndex=no}get isBreakable(){return!1}setStrength(t){}get score(){return 0}increaseHitCount(){this.angle=I(-.01,.01),this.hitCount++}}class So extends gi{constructor(t,s=f(2,1)){super(t,s)}get isBreakable(){return!0}}class _o{constructor(t){g(this,"destroyed");g(this,"bricks");g(this,"game");this.game=t,this.bricks=new ke,this.destroyed=new hs(0,0,999)}populate(){for(const[t,s]of this.game.stage.current.getCoords()){if(t===Mt.Unbreakable){this.bricks.add(new vo(s));continue}[Mt.Normal,Mt.Hard].includes(t)&&this.bricks.add(new So(s))}}areEmpty(){return this.bricks.isEmpty()}destroy(){for(const t of this.bricks)t.destroy();this.bricks.clear(),this.destroyed.setVal(0)}*[Symbol.iterator](){for(const t of this.bricks)yield t}}class Eo{constructor(){g(this,"coolDown",3e4);g(this,"enabled",!0);g(this,"timer",null);g(this,"timeLeft",0)}async showRewardAd(){if(this.enabled&&ns.isCrazyGames())return await window.CrazyGames.SDK.game.gameplayStop(),new Promise((t,s)=>{window.CrazyGames.SDK.ad.requestAd("rewarded",{adStarted:()=>console.info("Ad started"),adError:i=>s(i),adFinished:()=>(this.disableAdManager(),this.enableAdManager(),window.CrazyGames.SDK.game.gameplayStart().finally(t))})})}disableAdManager(){this.enabled=!1,zs(!0),this.timeLeft=this.coolDown/1e3,this.timer=setInterval(()=>{qn(--this.timeLeft)},1e3)}enableAdManager(){setTimeout(()=>{this.enabled=!0,zs(!1),this.timer&&clearTimeout(this.timer)},this.coolDown)}}var Co=`float hash(vec2 p) {
  p=fract(p*.3197);
  return fract(1.+sin(51.*p.x+73.*p.y)*13753.3);
}

float noise(vec2 p) {
  vec2 i=floor(p), f=fract(p), u=f*f*(3.-2.*f);
  return mix(mix(hash(i), hash(i+vec2(1, 0)), u.x), mix(hash(i+vec2(0, 1)), hash(i+1.), u.x), u.y);
}

void mainImage(out vec4 c, vec2 p) {
  p /= iResolution.xy;

  
  const float fuzz = .001;
  const float fuzzScale = 800.;
  p.x += fuzz*(noise(vec2(p.y*fuzzScale, iTime*9.))*2.-1.);

  
  c = texture2D(iChannel0, p);

  
  const float chromatic = .003;
  c.r = texture2D(iChannel0, p - vec2(chromatic, 0)).r;
  c.b = texture2D(iChannel0, p + vec2(chromatic, 0)).b;

  
  const float staticNoise = .1;
  c += staticNoise * hash(vec2(p + mod(iTime, 1e3)));

  
  const float scanlineScale = 800.;
  const float scanlineAlpha = .1;
  c *= 1. + scanlineAlpha*sin(p.y*scanlineScale);

  
  const float vignette = 2.;
  float dx = 2.*p.x - 1., dy = 2.*p.y - 1.;
  c *= 1.-pow((dx*dx + dy*dy)/vignette, 6.);
}`;$a(Qn.enabled());$n(Se());Da(.1);Qn.disabled()&&Oa(-1);class To{constructor(){g(this,"lives");g(this,"score");g(this,"mode");g(this,"bonus");g(this,"stage");g(this,"state");g(this,"bricks");g(this,"ads");g(this,"balls");g(this,"paddle",null);g(this,"floor",null);this.init=this.init.bind(this),this.update=this.update.bind(this),this.postUpdate=this.postUpdate.bind(this),this.render=this.render.bind(this),this.postRender=this.postRender.bind(this),this.balls=new fo,this.score=new Ka(0),this.lives=new uo(3),this.bonus=new lo(this),this.stage=new co(this),this.mode=new bo(this),this.state=new wo(this),this.bricks=new _o(this),this.ads=new Eo}run(t,s){this.stage.execute(s),this.stage.start(),this.mode.execute(t),Ea(this.init,this.update,this.postUpdate,this.render,this.postRender,Za)}init(){Aa(new D(1280,720)),ka(z.scale(.5)),this.paddle=new ii(z),new ye(f(-.5,z.y*.5),f(1,z.y)),new ye(f(z.x+.5,z.y*.5),f(1,z.y)),new ye(f(z.x*.5,z.y),f(z.x+2,1)),setTimeout(()=>this.state.changeTo("idle")),oi()&&ra(Co,!0)}update(){this.state.update(An)}async postUpdate(){await this.mode.update()}render(){Dt(W,f(100,100),new b().setHex("#494746")),Dt(W,z,new b().setHex("#ce9a80"))}postRender(){this.stage.showCounterText()}}console.info("Is development mode:",ns.isDevelopment());const ko=new To;_.on("start",async()=>{ko.run(ne(),us()),ns.isCrazyGames()&&await window.CrazyGames.SDK.game.gameplayStart()});function Ao(){return window.innerWidth<window.innerHeight}function Do(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function hr(){Do()&&Ao()&&document.documentElement.style.setProperty("--dialog-max-height","90vh")}window.addEventListener("resize",hr);window.addEventListener("DOMContentLoaded",hr);const $o=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Oo=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...$o]),Po=new Set(["innerHTML","textContent","innerText","children"]),Fo=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Mo=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Io(e,t){const s=Mo[e];return typeof s=="object"?s[t]?s.$:void 0:s}const Lo=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),zo={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ro(e,t,s){let i=s.length,n=t.length,r=i,a=0,o=0,l=t[n-1].nextSibling,u=null;for(;a<n||o<r;){if(t[a]===s[o]){a++,o++;continue}for(;t[n-1]===s[r-1];)n--,r--;if(n===a){const c=r<i?o?s[o-1].nextSibling:s[r-o]:l;for(;o<r;)e.insertBefore(s[o++],c)}else if(r===o)for(;a<n;)(!u||!u.has(t[a]))&&t[a].remove(),a++;else if(t[a]===s[r-1]&&s[o]===t[n-1]){const c=t[--n].nextSibling;e.insertBefore(s[o++],t[a++].nextSibling),e.insertBefore(s[--r],c),t[n]=s[r]}else{if(!u){u=new Map;let h=o;for(;h<r;)u.set(s[h],h++)}const c=u.get(t[a]);if(c!=null)if(o<c&&c<r){let h=a,d=1,p;for(;++h<n&&h<r&&!((p=u.get(t[h]))==null||p!==c+d);)d++;if(d>c-o){const y=t[a];for(;o<c;)e.insertBefore(s[o++],y)}else e.replaceChild(s[o++],t[a++])}else a++;else t[a++].remove()}}}const Wi="_$DX_DELEGATE";function Bo(e,t,s,i={}){let n;return je(r=>{n=r,t===document?e():T(t,e(),t.firstChild?null:void 0,s)},i.owner),()=>{n(),t.textContent=""}}function V(e,t,s){let i;const n=()=>{const a=document.createElement("template");return a.innerHTML=e,s?a.content.firstChild.firstChild:a.content.firstChild},r=t?()=>Rt(()=>document.importNode(i||(i=n()),!0)):()=>(i||(i=n())).cloneNode(!0);return r.cloneNode=r,r}function De(e,t=window.document){const s=t[Wi]||(t[Wi]=new Set);for(let i=0,n=e.length;i<n;i++){const r=e[i];s.has(r)||(s.add(r),t.addEventListener(r,Xo))}}function Bt(e,t,s){s==null?e.removeAttribute(t):e.setAttribute(t,s)}function No(e,t,s,i){i==null?e.removeAttributeNS(t,s):e.setAttributeNS(t,s,i)}function jo(e,t){t==null?e.removeAttribute("class"):e.className=t}function mi(e,t,s,i){if(i)Array.isArray(s)?(e[`$$${t}`]=s[0],e[`$$${t}Data`]=s[1]):e[`$$${t}`]=s;else if(Array.isArray(s)){const n=s[0];e.addEventListener(t,s[0]=r=>n.call(e,s[1],r))}else e.addEventListener(t,s)}function Uo(e,t,s={}){const i=Object.keys(t||{}),n=Object.keys(s);let r,a;for(r=0,a=n.length;r<a;r++){const o=n[r];!o||o==="undefined"||t[o]||(Xi(e,o,!1),delete s[o])}for(r=0,a=i.length;r<a;r++){const o=i[r],l=!!t[o];!o||o==="undefined"||s[o]===l||!l||(Xi(e,o,!0),s[o]=l)}return s}function Vo(e,t,s){if(!t)return s?Bt(e,"style"):t;const i=e.style;if(typeof t=="string")return i.cssText=t;typeof s=="string"&&(i.cssText=s=void 0),s||(s={}),t||(t={});let n,r;for(r in s)t[r]==null&&i.removeProperty(r),delete s[r];for(r in t)n=t[r],n!==s[r]&&(i.setProperty(r,n),s[r]=n);return s}function Ho(e,t={},s,i){const n={};return i||U(()=>n.children=re(e,t.children,n.children)),U(()=>t.ref&&t.ref(e)),U(()=>Go(e,t,s,!0,n,!0)),n}function T(e,t,s,i){if(s!==void 0&&!i&&(i=[]),typeof t!="function")return re(e,t,i,s);U(n=>re(e,t(),n,s),i)}function Go(e,t,s,i,n={},r=!1){t||(t={});for(const a in n)if(!(a in t)){if(a==="children")continue;n[a]=qi(e,a,null,n[a],s,r)}for(const a in t){if(a==="children"){i||re(e,t.children);continue}const o=t[a];n[a]=qi(e,a,o,n[a],s,r)}}function Wo(e){return e.toLowerCase().replace(/-([a-z])/g,(t,s)=>s.toUpperCase())}function Xi(e,t,s){const i=t.trim().split(/\s+/);for(let n=0,r=i.length;n<r;n++)e.classList.toggle(i[n],s)}function qi(e,t,s,i,n,r){let a,o,l,u,c;if(t==="style")return Vo(e,s,i);if(t==="classList")return Uo(e,s,i);if(s===i)return i;if(t==="ref")r||s(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);i&&e.removeEventListener(h,i),s&&e.addEventListener(h,s)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);i&&e.removeEventListener(h,i,!0),s&&e.addEventListener(h,s,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),d=Lo.has(h);if(!d&&i){const p=Array.isArray(i)?i[0]:i;e.removeEventListener(h,p)}(d||s)&&(mi(e,h,s,d),d&&De([h]))}else if(t.slice(0,5)==="attr:")Bt(e,t.slice(5),s);else if((c=t.slice(0,5)==="prop:")||(l=Po.has(t))||!n&&((u=Io(t,e.tagName))||(o=Oo.has(t)))||(a=e.nodeName.includes("-")))c&&(t=t.slice(5),o=!0),t==="class"||t==="className"?jo(e,s):a&&!o&&!l?e[Wo(t)]=s:e[u||t]=s;else{const h=n&&t.indexOf(":")>-1&&zo[t.split(":")[0]];h?No(e,h,t,s):Bt(e,Fo[t]||t,s)}return s}function Xo(e){const t=`$$${e.type}`;let s=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==s&&Object.defineProperty(e,"target",{configurable:!0,value:s}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return s||document}});s;){const i=s[t];if(i&&!s.disabled){const n=s[`${t}Data`];if(n!==void 0?i.call(s,n,e):i.call(s,e),e.cancelBubble)return}s=s._$host||s.parentNode||s.host}}function re(e,t,s,i,n){for(;typeof s=="function";)s=s();if(t===s)return s;const r=typeof t,a=i!==void 0;if(e=a&&s[0]&&s[0].parentNode||e,r==="string"||r==="number")if(r==="number"&&(t=t.toString()),a){let o=s[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),s=Xt(e,s,i,o)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t;else if(t==null||r==="boolean")s=Xt(e,s,i);else{if(r==="function")return U(()=>{let o=t();for(;typeof o=="function";)o=o();s=re(e,o,s,i)}),()=>s;if(Array.isArray(t)){const o=[],l=s&&Array.isArray(s);if(Hs(o,t,s,n))return U(()=>s=re(e,o,s,i,!0)),()=>s;if(o.length===0){if(s=Xt(e,s,i),a)return s}else l?s.length===0?Ki(e,o,i):Ro(e,s,o):(s&&Xt(e),Ki(e,o));s=o}else if(t.nodeType){if(Array.isArray(s)){if(a)return s=Xt(e,s,i,t);Xt(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}else console.warn("Unrecognized value. Skipped inserting",t)}return s}function Hs(e,t,s,i){let n=!1;for(let r=0,a=t.length;r<a;r++){let o=t[r],l=s&&s[r],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))n=Hs(e,o,l)||n;else if(u==="function")if(i){for(;typeof o=="function";)o=o();n=Hs(e,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||n}else e.push(o),n=!0;else{const c=String(o);l&&l.nodeType===3&&l.data===c?e.push(l):e.push(document.createTextNode(c))}}return n}function Ki(e,t,s=null){for(let i=0,n=t.length;i<n;i++)e.insertBefore(t[i],s)}function Xt(e,t,s,i){if(s===void 0)return e.textContent="";const n=i||document.createTextNode("");if(t.length){let r=!1;for(let a=t.length-1;a>=0;a--){const o=t[a];if(n!==o){const l=o.parentNode===e;!r&&!a?l?e.replaceChild(n,o):e.insertBefore(n,s):l&&o.remove()}else r=!0}}else e.insertBefore(n,s);return[n]}const qo=!1,Ko=V('<section class="sound visual-effects"><div><fieldset><legend><b>Sound/Music</b></legend><div><input type="checkbox" id="sound"><label for="sound">Sound</label><input type="checkbox" id="music"><label for="music">Music'),dr=({children:e})=>{const t=({target:i})=>{const{checked:n}=i;Vn(n),_.emit("sound",n)},s=({target:i})=>{const{checked:n}=i;Gn(n),_.emit("music",n)};return(()=>{const i=Ko(),n=i.firstChild,r=n.firstChild,a=r.firstChild,o=a.nextSibling,l=o.firstChild,u=l.nextSibling,c=u.nextSibling;return l.addEventListener("change",t),c.addEventListener("change",s),c.disabled=!0,T(n,e,null),U(()=>l.checked=Se()),U(()=>c.checked=li()),i})()},Zo=V('<section class="modes"><fieldset><legend><b>Mode'),Yo=V('<div class="mode"><input type="radio"><label>'),fr=()=>{const e=[{name:"Classic",value:B.Classic},{name:"Dynamic",value:B.Dynamic},{name:"Modern",value:B.Modern}],t=s=>()=>{Yt(s),_.emit("modeChange",s)};return(()=>{const s=Zo(),i=s.firstChild;return i.firstChild,T(i,O(Bn,{each:e,children:n=>(()=>{const r=Yo(),a=r.firstChild,o=a.nextSibling;return mi(a,"change",t(n.value)),T(o,()=>n.name),U(l=>{const u=n.name,c=n.name;return u!==l._v$&&Bt(a,"id",l._v$=u),c!==l._v$2&&Bt(o,"for",l._v$2=c),l},{_v$:void 0,_v$2:void 0}),U(()=>a.checked=ne()===n.value),r})()}),null),s})()},Jo=V('<section><fieldset><legend><b>Levels</b></legend><div class="levels">'),Qo=V("<div>No items"),t0=V('<div class="level"><input type="radio" name="stage"><label>');window.store=Xa;const gr=()=>{const[e,t]=j(us()),s=i=>()=>{Un(i),t(i),_.emit("stageChange",i)};return Fn(()=>(_.on("stage-unlocked",js),()=>_.off("stage-unlocked",js))),(()=>{const i=Jo(),n=i.firstChild,r=n.firstChild,a=r.nextSibling;return T(a,O(Bn,{get each(){return di()},get fallback(){return Qo()},children:(o,l)=>(()=>{const u=t0(),c=u.firstChild,h=c.nextSibling;return mi(c,"change",s(l())),T(h,()=>o.name),U(d=>{const p=!o.unlocked,y=o.name,w=o.name;return p!==d._v$&&(c.disabled=d._v$=p),y!==d._v$2&&Bt(c,"id",d._v$2=y),w!==d._v$3&&Bt(h,"for",d._v$3=w),d},{_v$:void 0,_v$2:void 0,_v$3:void 0}),U(()=>c.checked=l()===e()),u})()})),i})()},e0=V("<div><div>Current Score: <b>"),s0=V("<fieldset><legend><b>Score</b></legend><div><div><div>High Score: <b>"),yi=({highScoreOnly:e})=>(()=>{const t=s0(),s=t.firstChild,i=s.nextSibling,n=i.firstChild,r=n.firstChild,a=r.firstChild,o=a.nextSibling;return T(i,O(ri,{when:!e,get children(){const l=e0(),u=l.firstChild,c=u.firstChild,h=c.nextSibling;return T(h,Wn),l}}),n),T(o,Xn),t})(),i0=V('<svg stroke-width="0"></svg>',2),n0=V("<title></title>",2);function oe(e,t){const s=Ui(e.a,t),[i,n]=Ua(s,["src"]);return(()=>{const r=i0.cloneNode(!0);return Ho(r,Ui({get stroke(){return e.a.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},n,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},get innerHTML(){return e.c},xmlns:"http://www.w3.org/2000/svg"}),!0,!0),T(r,()=>qo,null),T(r,(()=>{const a=ve(()=>!!t.title);return()=>a()&&(()=>{const o=n0.cloneNode(!0);return T(o,()=>t.title),o})()})(),null),r})()}function r0(e){return oe({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M10 2a2 2 0 0 1-1.5 1.937v5.087c.863.083 1.5.377 1.5.726 0 .414-.895.75-2 .75s-2-.336-2-.75c0-.35.637-.643 1.5-.726V3.937A2 2 0 1 1 10 2z"/><path d="M0 9.665v1.717a1 1 0 0 0 .553.894l6.553 3.277a2 2 0 0 0 1.788 0l6.553-3.277a1 1 0 0 0 .553-.894V9.665c0-.1-.06-.19-.152-.23L9.5 6.715v.993l5.227 2.178a.125.125 0 0 1 .001.23l-5.94 2.546a2 2 0 0 1-1.576 0l-5.94-2.546a.125.125 0 0 1 .001-.23L6.5 7.708l-.013-.988L.152 9.435a.25.25 0 0 0-.152.23z"/>'},e)}function a0(e){return oe({a:{viewBox:"0 0 576 512"},c:'<path d="M413.5 237.5c-28.2 4.8-58.2-3.6-80-25.4L295.4 174c-15-15-23.4-35.2-23.4-56.4v-12.1L192.3 62c-5.3-2.9-8.6-8.6-8.3-14.7s3.9-11.5 9.5-14l47.2-21C259.1 4.2 279 0 299.2 0h18.1c36.7 0 72 14 98.7 39.1l44.6 42c24.2 22.8 33.2 55.7 26.6 86L503 183l8-8c9.4-9.4 24.6-9.4 33.9 0l24 24c9.4 9.4 9.4 24.6 0 33.9l-88 88c-9.4 9.4-24.6 9.4-33.9 0l-24-24c-9.4-9.4-9.4-24.6 0-33.9l8-8-17.5-17.5zM27.4 377.1l233.5-194.5c3.5 4.9 7.5 9.6 11.8 14l38.1 38.1c6 6 12.4 11.2 19.2 15.7L134.9 484.6C120.4 502 98.9 512 76.3 512 34.1 512 0 477.8 0 435.7c0-22.6 10.1-44.1 27.4-58.6z"/>'},e)}const o0=V('<fieldset><legend><b>Visual effects</b></legend><div><input type="checkbox" id="old-tv-screen"><label for="old-tv-screen">Old TV screen'),l0=()=>{const e=({target:t})=>{Hn(t.checked)};return(()=>{const t=o0(),s=t.firstChild,i=s.nextSibling,n=i.firstChild;return n.addEventListener("change",e),U(()=>n.checked=oi()),t})()};function jt(e){this._maxSize=e,this.clear()}jt.prototype.clear=function(){this._size=0,this._values=Object.create(null)};jt.prototype.get=function(e){return this._values[e]};jt.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var c0=/[^.^\]^[]+|(?=\[\]|\.\.)/g,pr=/^\d+$/,u0=/^\d/,h0=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,d0=/^\s*(['"]?)(.*?)(\1)\s*$/,bi=512,Zi=new jt(bi),Yi=new jt(bi),Ji=new jt(bi),zt={Cache:jt,split:Gs,normalizePath:Cs,setter:function(e){var t=Cs(e);return Yi.get(e)||Yi.set(e,function(i,n){for(var r=0,a=t.length,o=i;r<a-1;){var l=t[r];if(l==="__proto__"||l==="constructor"||l==="prototype")return i;o=o[t[r++]]}o[t[r]]=n})},getter:function(e,t){var s=Cs(e);return Ji.get(e)||Ji.set(e,function(n){for(var r=0,a=s.length;r<a;)if(n!=null||!t)n=n[s[r++]];else return;return n})},join:function(e){return e.reduce(function(t,s){return t+(xi(s)||pr.test(s)?"["+s+"]":(t?".":"")+s)},"")},forEach:function(e,t,s){f0(Array.isArray(e)?e:Gs(e),t,s)}};function Cs(e){return Zi.get(e)||Zi.set(e,Gs(e).map(function(t){return t.replace(d0,"$2")}))}function Gs(e){return e.match(c0)||[""]}function f0(e,t,s){var i=e.length,n,r,a,o;for(r=0;r<i;r++)n=e[r],n&&(m0(n)&&(n='"'+n+'"'),o=xi(n),a=!o&&/^\d+$/.test(n),t.call(s,n,o,a,r,e))}function xi(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function g0(e){return e.match(u0)&&!e.match(pr)}function p0(e){return h0.test(e)}function m0(e){return!xi(e)&&(g0(e)||p0(e))}const y0=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ds=e=>e.match(y0)||[],fs=e=>e[0].toUpperCase()+e.slice(1),wi=(e,t)=>ds(e).join(t).toLowerCase(),mr=e=>ds(e).reduce((t,s)=>`${t}${t?s[0].toUpperCase()+s.slice(1).toLowerCase():s.toLowerCase()}`,""),b0=e=>fs(mr(e)),x0=e=>wi(e,"_"),w0=e=>wi(e,"-"),v0=e=>fs(wi(e," ")),S0=e=>ds(e).map(fs).join(" ");var Ts={words:ds,upperFirst:fs,camelCase:mr,pascalCase:b0,snakeCase:x0,kebabCase:w0,sentenceCase:v0,titleCase:S0},vi={exports:{}};vi.exports=function(e){return yr(_0(e),e)};vi.exports.array=yr;function yr(e,t){var s=e.length,i=new Array(s),n={},r=s,a=E0(t),o=C0(e);for(t.forEach(function(u){if(!o.has(u[0])||!o.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});r--;)n[r]||l(e[r],r,new Set);return i;function l(u,c,h){if(h.has(u)){var d;try{d=", node was:"+JSON.stringify(u)}catch{d=""}throw new Error("Cyclic dependency"+d)}if(!o.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!n[c]){n[c]=!0;var p=a.get(u)||new Set;if(p=Array.from(p),c=p.length){h.add(u);do{var y=p[--c];l(y,o.get(y),h)}while(c);h.delete(u)}i[--s]=u}}}function _0(e){for(var t=new Set,s=0,i=e.length;s<i;s++){var n=e[s];t.add(n[0]),t.add(n[1])}return Array.from(t)}function E0(e){for(var t=new Map,s=0,i=e.length;s<i;s++){var n=e[s];t.has(n[0])||t.set(n[0],new Set),t.has(n[1])||t.set(n[1],new Set),t.get(n[0]).add(n[1])}return t}function C0(e){for(var t=new Map,s=0,i=e.length;s<i;s++)t.set(e[s],s);return t}var T0=vi.exports;const k0=Ha(T0),A0=Object.prototype.toString,D0=Error.prototype.toString,$0=RegExp.prototype.toString,O0=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",P0=/^Symbol\((.*)\)(.*)$/;function F0(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function Qi(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const s=typeof e;if(s==="number")return F0(e);if(s==="string")return t?`"${e}"`:e;if(s==="function")return"[Function "+(e.name||"anonymous")+"]";if(s==="symbol")return O0.call(e).replace(P0,"Symbol($1)");const i=A0.call(e).slice(8,-1);return i==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):i==="Error"||e instanceof Error?"["+D0.call(e)+"]":i==="RegExp"?$0.call(e):null}function ee(e,t){let s=Qi(e,t);return s!==null?s:JSON.stringify(e,function(i,n){let r=Qi(this[i],t);return r!==null?r:n},2)}function br(e){return e==null?[]:[].concat(e)}let M0=/\$\{\s*(\w+)\s*\}/g;class J extends Error{static formatError(t,s){const i=s.label||s.path||"this";return i!==s.path&&(s=Object.assign({},s,{path:i})),typeof t=="string"?t.replace(M0,(n,r)=>ee(s[r])):typeof t=="function"?t(s):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,s,i,n){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=s,this.path=i,this.type=n,this.errors=[],this.inner=[],br(t).forEach(r=>{J.isError(r)?(this.errors.push(...r.errors),this.inner=this.inner.concat(r.inner.length?r.inner:r)):this.errors.push(r)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,J)}}let mt={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:s,originalValue:i})=>{const n=i!=null&&i!==s?` (cast from the value \`${ee(i,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${ee(s,!0)}\``+n:`${e} must match the configured type. The validated value was: \`${ee(s,!0)}\``+n}},st={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},I0={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Ws={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},L0={isValue:"${path} field must be ${value}"},Xs={noUnknown:"${path} field has unspecified keys: ${unknown}"},z0={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:mt,string:st,number:I0,date:Ws,object:Xs,array:z0,boolean:L0});const Si=e=>e&&e.__isYupSchema__;class ss{static fromOptions(t,s){if(!s.then&&!s.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:n,otherwise:r}=s,a=typeof i=="function"?i:(...o)=>o.every(l=>l===i);return new ss(t,(o,l)=>{var u;let c=a(...o)?n:r;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(t,s){this.fn=void 0,this.refs=t,this.refs=t,this.fn=s}resolve(t,s){let i=this.refs.map(r=>r.getValue(s==null?void 0:s.value,s==null?void 0:s.parent,s==null?void 0:s.context)),n=this.fn(i,t,s);if(n===void 0||n===t)return t;if(!Si(n))throw new TypeError("conditions must return a schema object");return n.resolve(s)}}const ze={context:"$",value:"."};class Ut{constructor(t,s={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ze.context,this.isValue=this.key[0]===ze.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?ze.context:this.isValue?ze.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&zt.getter(this.path,!0),this.map=s.map}getValue(t,s,i){let n=this.isContext?i:this.isValue?t:s;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(t,s){return this.getValue(t,s==null?void 0:s.parent,s==null?void 0:s.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Ut.prototype.__isYupRef=!0;const $t=e=>e==null;function qt(e){function t({value:s,path:i="",options:n,originalValue:r,schema:a},o,l){const{name:u,test:c,params:h,message:d,skipAbsent:p}=e;let{parent:y,context:w,abortEarly:E=a.spec.abortEarly}=n;function k(v){return Ut.isRef(v)?v.getValue(s,y,w):v}function C(v={}){const Z=Object.assign({value:s,originalValue:r,label:a.spec.label,path:v.path||i,spec:a.spec},h,v.params);for(const $e of Object.keys(Z))Z[$e]=k(Z[$e]);const Vt=new J(J.formatError(v.message||d,Z),s,Z.path,v.type||u);return Vt.params=Z,Vt}const P=E?o:l;let A={path:i,parent:y,type:u,from:n.from,createError:C,resolve:k,options:n,originalValue:r,schema:a};const q=v=>{J.isError(v)?P(v):v?l(null):P(C())},et=v=>{J.isError(v)?P(v):o(v)},Ct=p&&$t(s);if(!n.sync){try{Promise.resolve(Ct?!0:c.call(A,s,A)).then(q,et)}catch(v){et(v)}return}let K;try{var Tt;if(K=Ct?!0:c.call(A,s,A),typeof((Tt=K)==null?void 0:Tt.then)=="function")throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(v){et(v);return}q(K)}return t.OPTIONS=e,t}function R0(e,t,s,i=s){let n,r,a;return t?(zt.forEach(t,(o,l,u)=>{let c=l?o.slice(1,o.length-1):o;e=e.resolve({context:i,parent:n,value:s});let h=e.type==="tuple",d=u?parseInt(c,10):0;if(e.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(s&&d>=s.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);n=s,s=s&&s[d],e=h?e.spec.types[d]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e.type}")`);n=s,s=s&&s[c],e=e.fields[c]}r=c,a=l?"["+o+"]":"."+o}),{schema:e,parent:n,parentPath:r}):{parent:n,parentPath:t,schema:e}}class is extends Set{describe(){const t=[];for(const s of this.values())t.push(Ut.isRef(s)?s.describe():s);return t}resolveAll(t){let s=[];for(const i of this.values())s.push(t(i));return s}clone(){return new is(this.values())}merge(t,s){const i=this.clone();return t.forEach(n=>i.add(n)),s.forEach(n=>i.delete(n)),i}}function Qt(e,t=new Map){if(Si(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let s;if(e instanceof Date)s=new Date(e.getTime()),t.set(e,s);else if(e instanceof RegExp)s=new RegExp(e),t.set(e,s);else if(Array.isArray(e)){s=new Array(e.length),t.set(e,s);for(let i=0;i<e.length;i++)s[i]=Qt(e[i],t)}else if(e instanceof Map){s=new Map,t.set(e,s);for(const[i,n]of e.entries())s.set(i,Qt(n,t))}else if(e instanceof Set){s=new Set,t.set(e,s);for(const i of e)s.add(Qt(i,t))}else if(e instanceof Object){s={},t.set(e,s);for(const[i,n]of Object.entries(e))s[i]=Qt(n,t)}else throw Error(`Unable to clone ${e}`);return s}class ft{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new is,this._blacklist=new is,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(mt.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(s=>{s.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const s=Object.create(Object.getPrototypeOf(this));return s.type=this.type,s._typeCheck=this._typeCheck,s._whitelist=this._whitelist.clone(),s._blacklist=this._blacklist.clone(),s.internalTests=Object.assign({},this.internalTests),s.exclusiveTests=Object.assign({},this.exclusiveTests),s.deps=[...this.deps],s.conditions=[...this.conditions],s.tests=[...this.tests],s.transforms=[...this.transforms],s.spec=Qt(Object.assign({},this.spec,t)),s}label(t){let s=this.clone();return s.spec.label=t,s}meta(...t){if(t.length===0)return this.spec.meta;let s=this.clone();return s.spec.meta=Object.assign(s.spec.meta||{},t[0]),s}withMutation(t){let s=this._mutate;this._mutate=!0;let i=t(this);return this._mutate=s,i}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let s=this,i=t.clone();const n=Object.assign({},s.spec,i.spec);return i.spec=n,i.internalTests=Object.assign({},s.internalTests,i.internalTests),i._whitelist=s._whitelist.merge(t._whitelist,t._blacklist),i._blacklist=s._blacklist.merge(t._blacklist,t._whitelist),i.tests=s.tests,i.exclusiveTests=s.exclusiveTests,i.withMutation(r=>{t.tests.forEach(a=>{r.test(a.OPTIONS)})}),i.transforms=[...s.transforms,...i.transforms],i}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let s=this;if(s.conditions.length){let i=s.conditions;s=s.clone(),s.conditions=[],s=i.reduce((n,r)=>r.resolve(n,t),s),s=s.resolve(t)}return s}resolveOptions(t){var s,i,n;return Object.assign({},t,{from:t.from||[],strict:(s=t.strict)!=null?s:this.spec.strict,abortEarly:(i=t.abortEarly)!=null?i:this.spec.abortEarly,recursive:(n=t.recursive)!=null?n:this.spec.recursive})}cast(t,s={}){let i=this.resolve(Object.assign({value:t},s)),n=s.assert==="ignore-optionality",r=i._cast(t,s);if(s.assert!==!1&&!i.isType(r)){if(n&&$t(r))return r;let a=ee(t),o=ee(r);throw new TypeError(`The value of ${s.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return r}_cast(t,s){let i=t===void 0?t:this.transforms.reduce((n,r)=>r.call(this,n,t,this),t);return i===void 0&&(i=this.getDefault(s)),i}_validate(t,s={},i,n){let{path:r,originalValue:a=t,strict:o=this.spec.strict}=s,l=t;o||(l=this._cast(l,Object.assign({assert:!1},s)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:r,value:l,originalValue:a,options:s,tests:u},i,c=>{if(c.length)return n(c,l);this.runTests({path:r,value:l,originalValue:a,options:s,tests:this.tests},i,n)})}runTests(t,s,i){let n=!1,{tests:r,value:a,originalValue:o,path:l,options:u}=t,c=w=>{n||(n=!0,s(w,a))},h=w=>{n||(n=!0,i(w,a))},d=r.length,p=[];if(!d)return h([]);let y={value:a,originalValue:o,path:l,options:u,schema:this};for(let w=0;w<r.length;w++){const E=r[w];E(y,c,function(C){C&&(p=p.concat(C)),--d<=0&&h(p)})}}asNestedTest({key:t,index:s,parent:i,parentPath:n,originalParent:r,options:a}){const o=t??s;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let u=i[o];const c=Object.assign({},a,{strict:!0,parent:i,value:u,originalValue:r[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${n||""}[${u?o:`"${o}"`}]`:(n?`${n}.`:"")+t});return(h,d,p)=>this.resolve(c)._validate(u,c,d,p)}validate(t,s){let i=this.resolve(Object.assign({},s,{value:t}));return new Promise((n,r)=>i._validate(t,s,(a,o)=>{J.isError(a)&&(a.value=o),r(a)},(a,o)=>{a.length?r(new J(a,o)):n(o)}))}validateSync(t,s){let i=this.resolve(Object.assign({},s,{value:t})),n;return i._validate(t,Object.assign({},s,{sync:!0}),(r,a)=>{throw J.isError(r)&&(r.value=a),r},(r,a)=>{if(r.length)throw new J(r,t);n=a}),n}isValid(t,s){return this.validate(t,s).then(()=>!0,i=>{if(J.isError(i))return!1;throw i})}isValidSync(t,s){try{return this.validateSync(t,s),!0}catch(i){if(J.isError(i))return!1;throw i}}_getDefault(t){let s=this.spec.default;return s==null?s:typeof s=="function"?s.call(this,t):Qt(s)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,s){const i=this.clone({nullable:t});return i.internalTests.nullable=qt({message:s,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),i}optionality(t,s){const i=this.clone({optional:t});return i.internalTests.optionality=qt({message:s,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(t=mt.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=mt.notNull){return this.nullability(!1,t)}required(t=mt.required){return this.clone().withMutation(s=>s.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let s=this.clone();return s.transforms.push(t),s}test(...t){let s;if(t.length===1?typeof t[0]=="function"?s={test:t[0]}:s=t[0]:t.length===2?s={name:t[0],test:t[1]}:s={name:t[0],message:t[1],test:t[2]},s.message===void 0&&(s.message=mt.default),typeof s.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),n=qt(s),r=s.exclusive||s.name&&i.exclusiveTests[s.name]===!0;if(s.exclusive&&!s.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return s.name&&(i.exclusiveTests[s.name]=!!s.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===s.name&&(r||a.OPTIONS.test===n.OPTIONS.test))),i.tests.push(n),i}when(t,s){!Array.isArray(t)&&typeof t!="string"&&(s=t,t=".");let i=this.clone(),n=br(t).map(r=>new Ut(r));return n.forEach(r=>{r.isSibling&&i.deps.push(r.key)}),i.conditions.push(typeof s=="function"?new ss(n,s):ss.fromOptions(n,s)),i}typeError(t){let s=this.clone();return s.internalTests.typeError=qt({message:t,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),s}oneOf(t,s=mt.oneOf){let i=this.clone();return t.forEach(n=>{i._whitelist.add(n),i._blacklist.delete(n)}),i.internalTests.whiteList=qt({message:s,name:"oneOf",skipAbsent:!0,test(n){let r=this.schema._whitelist,a=r.resolveAll(this.resolve);return a.includes(n)?!0:this.createError({params:{values:Array.from(r).join(", "),resolved:a}})}}),i}notOneOf(t,s=mt.notOneOf){let i=this.clone();return t.forEach(n=>{i._blacklist.add(n),i._whitelist.delete(n)}),i.internalTests.blacklist=qt({message:s,name:"notOneOf",test(n){let r=this.schema._blacklist,a=r.resolveAll(this.resolve);return a.includes(n)?this.createError({params:{values:Array.from(r).join(", "),resolved:a}}):!0}}),i}strip(t=!0){let s=this.clone();return s.spec.strip=t,s}describe(t){const s=(t?this.resolve(t):this).clone(),{label:i,meta:n,optional:r,nullable:a}=s.spec;return{meta:n,label:i,optional:r,nullable:a,default:s.getDefault(t),type:s.type,oneOf:s._whitelist.describe(),notOneOf:s._blacklist.describe(),tests:s.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(h=>h.name===l.name)===u)}}}ft.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])ft.prototype[`${e}At`]=function(t,s,i={}){const{parent:n,parentPath:r,schema:a}=R0(this,t,s,i.context);return a[e](n&&n[r],Object.assign({},i,{parent:n,path:t}))};for(const e of["equals","is"])ft.prototype[e]=ft.prototype.oneOf;for(const e of["not","nope"])ft.prototype[e]=ft.prototype.notOneOf;let B0=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,N0=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,j0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,U0=e=>$t(e)||e===e.trim(),V0={}.toString();function Ue(){return new xr}class xr extends ft{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,s,i)=>{if(!i.spec.coerce||i.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===V0?t:n})})}required(t){return super.required(t).withMutation(s=>s.test({message:t||mt.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(s=>s.OPTIONS.name!=="required"),t))}length(t,s=st.length){return this.test({message:s,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(i){return i.length===this.resolve(t)}})}min(t,s=st.min){return this.test({message:s,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i.length>=this.resolve(t)}})}max(t,s=st.max){return this.test({name:"max",exclusive:!0,message:s,params:{max:t},skipAbsent:!0,test(i){return i.length<=this.resolve(t)}})}matches(t,s){let i=!1,n,r;return s&&(typeof s=="object"?{excludeEmptyString:i=!1,message:n,name:r}=s:n=s),this.test({name:r||"matches",message:n||st.matches,params:{regex:t},skipAbsent:!0,test:a=>a===""&&i||a.search(t)!==-1})}email(t=st.email){return this.matches(B0,{name:"email",message:t,excludeEmptyString:!0})}url(t=st.url){return this.matches(N0,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=st.uuid){return this.matches(j0,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=st.trim){return this.transform(s=>s!=null?s.trim():s).test({message:t,name:"trim",test:U0})}lowercase(t=st.lowercase){return this.transform(s=>$t(s)?s:s.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>$t(s)||s===s.toLowerCase()})}uppercase(t=st.uppercase){return this.transform(s=>$t(s)?s:s.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>$t(s)||s===s.toUpperCase()})}}Ue.prototype=xr.prototype;var H0=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function G0(e){var t=[1,4,5,6,7,10,11],s=0,i,n;if(n=H0.exec(e)){for(var r=0,a;a=t[r];++r)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,(n[8]===void 0||n[8]==="")&&(n[9]===void 0||n[9]==="")?i=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7]):(n[8]!=="Z"&&n[9]!==void 0&&(s=n[10]*60+n[11],n[9]==="+"&&(s=0-s)),i=Date.UTC(n[1],n[2],n[3],n[4],n[5]+s,n[6],n[7]))}else i=Date.parse?Date.parse(e):NaN;return i}let W0=new Date(""),X0=e=>Object.prototype.toString.call(e)==="[object Date]";class gs extends ft{constructor(){super({type:"date",check(t){return X0(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,s,i)=>!i.spec.coerce||i.isType(t)||t===null?t:(t=G0(t),isNaN(t)?gs.INVALID_DATE:new Date(t)))})}prepareParam(t,s){let i;if(Ut.isRef(t))i=t;else{let n=this.cast(t);if(!this._typeCheck(n))throw new TypeError(`\`${s}\` must be a Date or a value that can be \`cast()\` to a Date`);i=n}return i}min(t,s=Ws.min){let i=this.prepareParam(t,"min");return this.test({message:s,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n>=this.resolve(i)}})}max(t,s=Ws.max){let i=this.prepareParam(t,"max");return this.test({message:s,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(n){return n<=this.resolve(i)}})}}gs.INVALID_DATE=W0;gs.prototype;function q0(e,t=[]){let s=[],i=new Set,n=new Set(t.map(([a,o])=>`${a}-${o}`));function r(a,o){let l=zt.split(a)[0];i.add(l),n.has(`${o}-${l}`)||s.push([o,l])}for(const a of Object.keys(e)){let o=e[a];i.add(a),Ut.isRef(o)&&o.isSibling?r(o.path,a):Si(o)&&"deps"in o&&o.deps.forEach(l=>r(l,a))}return k0.array(Array.from(i),s).reverse()}function tn(e,t){let s=1/0;return e.some((i,n)=>{var r;if((r=t.path)!=null&&r.includes(i))return s=n,!0}),s}function wr(e){return(t,s)=>tn(e,t)-tn(e,s)}const K0=(e,t,s)=>{if(typeof e!="string")return e;let i=e;try{i=JSON.parse(e)}catch{}return s.isType(i)?i:e};function Ve(e){if("fields"in e){const t={};for(const[s,i]of Object.entries(e.fields))t[s]=Ve(i);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Ve(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Ve)}):"optional"in e?e.optional():e}const Z0=(e,t)=>{const s=[...zt.normalizePath(t)];if(s.length===1)return s[0]in e;let i=s.pop(),n=zt.getter(zt.join(s),!0)(e);return!!(n&&i in n)};let en=e=>Object.prototype.toString.call(e)==="[object Object]";function Y0(e,t){let s=Object.keys(e.fields);return Object.keys(t).filter(i=>s.indexOf(i)===-1)}const J0=wr([]);function vr(e){return new Sr(e)}class Sr extends ft{constructor(t){super({type:"object",check(s){return en(s)||typeof s=="function"}}),this.fields=Object.create(null),this._sortErrors=J0,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,s={}){var i;let n=super._cast(t,s);if(n===void 0)return this.getDefault(s);if(!this._typeCheck(n))return n;let r=this.fields,a=(i=s.stripUnknown)!=null?i:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(n).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},s,{parent:l,__validating:s.__validating||!1}),c=!1;for(const h of o){let d=r[h],p=h in n;if(d){let y,w=n[h];u.path=(s.path?`${s.path}.`:"")+h,d=d.resolve({value:w,context:s.context,parent:l});let E=d instanceof ft?d.spec:void 0,k=E==null?void 0:E.strict;if(E!=null&&E.strip){c=c||h in n;continue}y=!s.__validating||!k?d.cast(n[h],u):n[h],y!==void 0&&(l[h]=y)}else p&&!a&&(l[h]=n[h]);(p!==h in l||l[h]!==n[h])&&(c=!0)}return c?l:n}_validate(t,s={},i,n){let{from:r=[],originalValue:a=t,recursive:o=this.spec.recursive}=s;s.from=[{schema:this,value:a},...r],s.__validating=!0,s.originalValue=a,super._validate(t,s,i,(l,u)=>{if(!o||!en(u)){n(l,u);return}a=a||u;let c=[];for(let h of this._nodes){let d=this.fields[h];!d||Ut.isRef(d)||c.push(d.asNestedTest({options:s,key:h,parent:u,parentPath:s.path,originalParent:a}))}this.runTests({tests:c,value:u,originalValue:a,options:s},i,h=>{n(h.sort(this._sortErrors).concat(l),u)})})}clone(t){const s=super.clone(t);return s.fields=Object.assign({},this.fields),s._nodes=this._nodes,s._excludedEdges=this._excludedEdges,s._sortErrors=this._sortErrors,s}concat(t){let s=super.concat(t),i=s.fields;for(let[n,r]of Object.entries(this.fields)){const a=i[n];i[n]=a===void 0?r:a}return s.withMutation(n=>n.setFields(i,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let s={};return this._nodes.forEach(i=>{var n;const r=this.fields[i];let a=t;(n=a)!=null&&n.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),s[i]=r&&"getDefault"in r?r.getDefault(a):void 0}),s}setFields(t,s){let i=this.clone();return i.fields=t,i._nodes=q0(t,s),i._sortErrors=wr(Object.keys(t)),s&&(i._excludedEdges=s),i}shape(t,s=[]){return this.clone().withMutation(i=>{let n=i._excludedEdges;return s.length&&(Array.isArray(s[0])||(s=[s]),n=[...i._excludedEdges,...s]),i.setFields(Object.assign(i.fields,t),n)})}partial(){const t={};for(const[s,i]of Object.entries(this.fields))t[s]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(t)}deepPartial(){return Ve(this)}pick(t){const s={};for(const i of t)this.fields[i]&&(s[i]=this.fields[i]);return this.setFields(s)}omit(t){const s=Object.assign({},this.fields);for(const i of t)delete s[i];return this.setFields(s)}from(t,s,i){let n=zt.getter(t,!0);return this.transform(r=>{if(!r)return r;let a=r;return Z0(r,t)&&(a=Object.assign({},r),i||delete a[t],a[s]=n(r)),a})}json(){return this.transform(K0)}noUnknown(t=!0,s=Xs.noUnknown){typeof t!="boolean"&&(s=t,t=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:s,test(n){if(n==null)return!0;const r=Y0(this.schema,n);return!t||r.length===0||this.createError({params:{unknown:r.join(", ")}})}});return i.spec.noUnknown=t,i}unknown(t=!0,s=Xs.noUnknown){return this.noUnknown(!t,s)}transformKeys(t){return this.transform(s=>{if(!s)return s;const i={};for(const n of Object.keys(s))i[t(n)]=s[n];return i})}camelCase(){return this.transformKeys(Ts.camelCase)}snakeCase(){return this.transformKeys(Ts.snakeCase)}constantCase(){return this.transformKeys(t=>Ts.snakeCase(t).toUpperCase())}describe(t){let s=super.describe(t);s.fields={};for(const[n,r]of Object.entries(this.fields)){var i;let a=t;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),s.fields[n]=r.describe(a)}return s}}vr.prototype=Sr.prototype;const Q0=vr().shape({VITE_BASE_URL:Ue().required(),VITE_DESCRIPTION:Ue().required(),VITE_TITLE:Ue().required()});class tl{constructor(t){this.vars=t,Q0.validateSync(t,{strict:!0})}get baseUrl(){return this.vars.VITE_BASE_URL}get title(){return this.vars.VITE_TITLE}get description(){return this.vars.VITE_DESCRIPTION}}const el=new tl({VITE_BASE_URL:".",VITE_TITLE:"iBreakout Redux!",VITE_DESCRIPTION:"Breakout Redux - Brick-Breaking Bliss",BASE_URL:"./",MODE:"github",DEV:!1,PROD:!0,SSR:!1}),sl=V('<dialog><h2> </h2><section class="actions"><button>Play '),il=()=>{const[e,t]=j(!0),s=()=>{t(!1),_.emit("start")};return(()=>{const i=sl(),n=i.firstChild,r=n.firstChild,a=n.nextSibling,o=a.firstChild;return o.firstChild,T(n,()=>el.title,r),T(n,O(a0,{}),null),T(i,O(yi,{highScoreOnly:!0}),a),T(i,O(fr,{}),a),T(i,O(gr,{}),a),T(i,O(dr,{get children(){return O(l0,{})}}),a),o.$$click=s,T(o,O(r0,{size:"1.3em"}),null),U(()=>i.open=e()),i})()};De(["click"]);const nl=V('<dialog><h2>Game Over</h2><section class="actions"><button>Start'),rl=()=>{const e=()=>_.emit("startClick");return(()=>{const t=nl(),s=t.firstChild,i=s.nextSibling,n=i.firstChild;return T(t,O(yi,{}),i),T(t,O(fr,{}),i),T(t,O(gr,{}),i),T(t,O(dr,{}),i),n.$$click=e,U(()=>t.open=Kn()),t})()};De(["click"]);function _r(e){return oe({a:{viewBox:"0 0 24 24"},c:'<path d="M4 8H2v12a2 2 0 0 0 2 2h12v-2H4z"/><path d="M20 2H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm-9 12V6l7 4z"/>'},e)}const al=V('<span class="timer">'),ol=V('<dialog><h2>Get extra life</h2><p>Watch a short Ad to get an extra chance to beat your high score.</p><section class="actions"><button>No, thanks</button><button>Watch Ad <!> '),ll=()=>{const e=()=>{_.emit("getExtraLife",!1)},t=()=>{_.emit("getExtraLife",!0)};return(()=>{const s=ol(),i=s.firstChild,n=i.nextSibling,r=n.nextSibling,a=r.firstChild,o=a.nextSibling,l=o.firstChild,u=l.nextSibling;return u.nextSibling,a.$$click=e,o.$$click=t,T(o,O(_r,{}),u),T(o,O(ri,{get when(){return _e()},get children(){const c=al();return T(c,()=>String(ci()).padStart(2,"0")),c}}),null),U(c=>{const h=Yn(),d=_e();return h!==c._v$&&(s.open=c._v$=h),d!==c._v$2&&(o.disabled=c._v$2=d),c},{_v$:void 0,_v$2:void 0}),s})()};De(["click"]);function cl(e){return oe({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-multiplier-2x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 16l4 -4"/><path d="M18 16l-4 -4"/><path d="M6 10a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"/>'},e)}function ul(e){return oe({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M12.75 8a4.5 4.5 0 0 1-8.61 1.834l-1.391.565A6.001 6.001 0 0 0 14.25 8 6 6 0 0 0 3.5 4.334V2.5H2v4l.75.75h3.5v-1.5H4.352A4.5 4.5 0 0 1 12.75 8z" clip-rule="evenodd"/>'},e)}function hl(e){return oe({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M12 2v12h-2V8.5l-5 5v-11l5 5V2z"/>'},e)}const dl=V('<span class="timer">'),fl=V('<dialog><h2>You win <span class="emoji"></span></h2><section class="actions"><button>Double score</button><button>Restart </button><button>Next '),gl=()=>{const[e,t]=j(!1),s=()=>_.emit("doubleWin"),i=()=>_.emit("restartStage"),n=()=>_.emit("nextStage");return Fn(()=>{t(ne()===B.Bonus)},[ne()]),(()=>{const r=fl(),a=r.firstChild,o=a.nextSibling,l=o.firstChild;l.firstChild;const u=l.nextSibling;u.firstChild;const c=u.nextSibling;return c.firstChild,T(r,O(yi,{}),o),l.$$click=s,T(l,O(cl,{}),null),T(l,O(_r,{}),null),T(l,O(ri,{get when(){return _e()},get children(){const h=dl();return T(h,()=>String(ci()).padStart(2,"0")),h}}),null),u.$$click=i,T(u,O(ul,{}),null),c.$$click=n,T(c,O(hl,{}),null),U(h=>{const d=Zn(),p=_e(),y=e();return d!==h._v$&&(r.open=h._v$=d),p!==h._v$2&&(l.disabled=h._v$2=p),y!==h._v$3&&(u.disabled=h._v$3=y),h},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})()};De(["click"]);window.CrazyGames.SDK.game.sdkGameLoadingStart().then(()=>console.info("CrazyGames SDK loading started")).catch(e=>{console.error(`Error while loading CrazyGames SDK: ${e}`)});Bo(()=>[O(il,{}),O(rl,{}),O(gl,{}),O(ll,{})],document.body);window.CrazyGames.SDK.game.sdkGameLoadingStop().then(()=>console.info("CrazyGames SDK loading stopped")).catch(e=>{console.error(`Error while stopping CrazyGames SDK loading: ${e}`)});
//# sourceMappingURL=index-b727b3c2.js.map
